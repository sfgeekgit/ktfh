var Pn=Object.defineProperty;var zn=(n,e,t)=>e in n?Pn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var M=(n,e,t)=>zn(n,typeof e!="symbol"?e+"":e,t);/* empty css                    */import"./vue-GVBARt8q.js";import{aX as He,bo as h,X,aZ as A,aR as C,A as k,b0 as De,bS as et,aA as se,az as tt,w as R,aJ as St,G as x,bf as J,F as re,a$ as _e,z as D,aC as ze,P as f,Q as s,bN as W,b9 as kt,aT as st,y as ae,bP as Tt,bF as En,ay as rt,l as Zt,T as Fn,ap as An,ar as Ie,bI as ie,am as Dt,bb as Kt,bj as Le,aO as Xt,bl as On,bA as $n,bk as Lt,bE as _n,bJ as Rn,aI as Vn,b3 as Dn,x as Ln}from"./@vue-CCfogNd1.js";import{L as Fe}from"./lz-string-BZNGtwso.js";import{c as Qt}from"./nanoevents-BxCKNB1V.js";import{i as Bn}from"./unofficial-galaxy-sdk-C_siawBx.js";import{D as Un}from"./vuedraggable-BgvaSe-I.js";import{Y as qn}from"./vue-next-select-Bc2YoQWA.js";import{p as Gn}from"./vue-textarea-autosize-DLc4kbjP.js";import{s as Wn,u as Hn}from"./vue-toastification-D2nu0K1-.js";import"./sortablejs-BZuNQ3iR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();const Yn="Game balance settings (win amounts, costs, progression, etc.) are configured in src/data/gameConfig.ts",Jn="Pizza Delivery Empire",jn="pizza-delivery",Zn="Your Name",Kn="",Xn="",Qn="0.1",ei="Prototype",ti=["intro"],ni=36e5,ii=!0,ri=!1,ai=!0,oi=null,si=null,li="base64",ui=1,ci=0,di=!1,mi=!1,gi=!1,G={_comment:Yn,title:Jn,id:jn,author:Zn,discordName:Kn,discordLink:Xn,versionNumber:Qn,versionTitle:ei,initialTabs:ti,maxTickLength:ni,enablePausing:ii,showNews:ri,useHeader:ai,banner:oi,logo:si,exportEncoding:li,offlineLimit:ui,defaultDecimalsShown:ci,defaultShowSmall:di,allowGoBack:mi,disableHealthWarning:gi},fi=He({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}}),E=window.player=fi;function We(n){return JSON.stringify(n,(e,t)=>h(t)??null)}const pi=X({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(n,{emit:e}){const t=e,i=A(!1),r=A(null);function a(){t("click"),r.value!=null&&clearTimeout(r.value),i.value=!1,tt(()=>{i.value=!0,r.value=setTimeout(()=>i.value=!1,500)})}return(d,u)=>(C(),k("button",{onClick:et(a,["stop"]),class:se(["feedback",{activated:i.value,left:d.left}])},[De(d.$slots,"default",{},void 0,!0)],2))}}),ne=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},ct=ne(pi,[["__scopeId","data-v-f82eae5d"]]),hi={class:"error"},vi={class:"error-title"},bi={class:"error-details",style:{"margin-top":"-10px"}},yi={key:0},xi={class:"instructions"},wi=["href"],Ni={key:0,style:{"margin-top":"20px"}},Ci={class:"error-details"},Ii={key:0,style:{"margin-top":"10px"}},Si={key:1,style:{"margin-top":"10px"}},ki=X({__name:"Error",props:{errors:{}},setup(n){const e=n,t=R(()=>e.errors[0]),i=R(()=>e.errors.map(d=>d.stack==null?[]:d.stack.split(`
`))),r=R(()=>e.errors.map(d=>d.cause==null?[]:(typeof d.cause=="string"?d.cause:JSON.stringify(d.cause)).split(`
`)));function a(){let d=We(E);switch(G.exportEncoding){default:console.warn(`Unknown save encoding: ${G.exportEncoding}. Defaulting to lz`);case"lz":d=Fe.compressToUTF16(d);break;case"base64":d=btoa(unescape(encodeURIComponent(d)));break;case"plain":break}console.log(d);const u=document.createElement("textarea");u.value=d,document.body.appendChild(u),u.select(),u.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(u)}return St(()=>{E.autosave=!1,E.devSpeed=0}),(d,u)=>(C(),k("div",hi,[x("h1",vi,J(t.value.name)+": "+J(t.value.message),1),x("div",bi,[t.value.cause?(C(),k("div",yi,[(C(!0),k(re,null,_e(r.value[0],l=>(C(),k("div",{key:l},J(l),1))),128))])):D("",!0),t.value.stack?(C(),k("div",{key:1,style:ze(t.value.cause?"margin-top: 10px":"")},[(C(!0),k(re,null,_e(i.value[0],l=>(C(),k("div",{key:l},J(l),1))),128))],4)):D("",!0)]),x("div",xi,[u[2]||(u[2]=f(" Check the console for more details, and consider sharing it with the developers on ")),x("a",{href:h(G).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,wi),u[3]||(u[3]=f("! ")),s(ct,{onClick:a,class:"button",style:{display:"inline-flex"}},{default:W(()=>u[0]||(u[0]=[x("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1),x("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)])),_:1}),u[4]||(u[4]=x("br",null,null,-1)),d.errors.length>1?(C(),k("div",Ni,u[1]||(u[1]=[x("h3",null,"Other errors",-1)]))):D("",!0),(C(!0),k(re,null,_e(d.errors.slice(1),(l,m)=>(C(),k("div",{key:m,style:{"margin-top":"20px"}},[x("details",Ci,[x("summary",null,J(l.name)+": "+J(l.message),1),l.cause?(C(),k("div",Ii,[(C(!0),k(re,null,_e(r.value[m+1],b=>(C(),k("div",{key:b},J(b),1))),128))])):D("",!0),l.stack?(C(),k("div",Si,[(C(!0),k(re,null,_e(i.value[m+1],b=>(C(),k("div",{key:b},J(b),1))),128))])):D("",!0)])]))),128))])]))}}),en=ne(ki,[["__scopeId","data-v-2524e23e"]]),Oe={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"solid 2px var(--color)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var Mt=(n=>(n.Classic="classic",n.Paper="paper",n.Nordic="nordic",n.Aqua="aqua",n))(Mt||{});const Pt={classic:Oe,paper:{...Oe,variables:{...Oe.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--locked":"#3a3e45","--bought":"#5C8A58","--outline":"#333c4a","--border-radius":"4px","--modal-border":"","--feature-margin":"5px"},floatingTabs:!1},nordic:{...Oe,variables:{...Oe.variables,"--foreground":"#555555","--background":"#2E3440","--feature-foreground":"#000","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"4px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1},aqua:{...Oe,variables:{...Oe.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff"}}},Y=window.state=kt({lastTenTicks:[],mouseActivity:[!1],hasNaN:!1,NaNPath:[],errors:He([])}),me=Qt();"fonts"in document&&(document.fonts.onloadingdone=()=>me.emit("fontsLoaded"));document.onmousemove=function(){Y.mouseActivity[Y.mouseActivity.length-1]=!0};const Ti=X({__name:"Context",emits:["updateNodes"],setup(n,{emit:e}){var w;const t=e,i=A({}),r=new ResizeObserver(l),a=A(null);St(()=>{const N=a.value;N!=null&&r.observe(N)});let d=!0,u=A((w=a.value)==null?void 0:w.getBoundingClientRect());function l(){d&&(d=!1,tt(()=>{var N;u.value=(N=a.value)==null?void 0:N.getBoundingClientRect(),Object.values(i.value).filter(p=>p).forEach(p=>p.rect=p.element.getBoundingClientRect()),t("updateNodes",i.value),d=!0}))}me.on("fontsLoaded",l);const m={attributes:!1,childList:!0,subtree:!1};st(mn,(N,p)=>{const P=new MutationObserver(()=>b(N));P.observe(p,m),i.value[N]={element:p,observer:P,rect:p.getBoundingClientRect()},l()}),st(gn,N=>{var p;(p=i.value[N])==null||p.observer.disconnect(),i.value[N]=void 0,l()}),st(Va,i),st(Da,u);function b(N){const p=i.value[N];p!=null&&(p.rect=p.element.getBoundingClientRect(),t("updateNodes",i.value))}return(N,p)=>(C(),k(re,null,[De(N.$slots,"default",{},void 0,!0),x("div",{ref_key:"resizeListener",ref:a,class:"resize-listener"},null,512)],64))}}),tn=ne(Ti,[["__scopeId","data-v-4fc505f1"]]),Mi={class:"modal-wrapper"},Pi=["width"],zi={class:"modal-header"},Ei={class:"modal-body"},Fi={class:"modal-footer"},Ye=X({__name:"Modal",props:{modelValue:{type:Boolean},preventClosing:{type:Boolean},width:{}},emits:["update:modelValue"],setup(n,{expose:e,emit:t}){const i=n,r=t,a=R(()=>i.modelValue||u.value);function d(){i.preventClosing!==!0&&r("update:modelValue",!1)}const u=A(!1),l=A(null),m=R(()=>{var b;return((b=l.value)==null?void 0:b.nodes)??null});return e({isOpen:a,nodes:m}),(b,w)=>(C(),ae(Fn,{to:"#modal-root"},[s(Zt,{name:"modal",onBeforeEnter:w[0]||(w[0]=N=>u.value=!0),onAfterLeave:w[1]||(w[1]=N=>u.value=!1),appear:""},{default:W(()=>[Tt(x("div",rt({class:"modal-mask",onPointerdown:et(d,["self"])},b.$attrs),[x("div",Mi,[x("div",{class:"modal-container",width:b.width},[x("div",zi,[De(b.$slots,"header",{shown:a.value})]),x("div",Ei,[s(tn,{ref_key:"contextRef",ref:l},{default:W(()=>[De(b.$slots,"body",{shown:a.value})]),_:3},512)]),x("div",Fi,[De(b.$slots,"footer",{shown:a.value},()=>[x("div",{class:"modal-default-footer"},[w[2]||(w[2]=x("div",{class:"modal-default-flex-grow"},null,-1)),x("button",{class:"button modal-default-button",onClick:d}," Close ")])])])],8,Pi)])],16),[[En,b.modelValue]])]),_:3})]))}});class Ai{constructor(e){M(this,"map",new Map);M(this,"first");M(this,"last");M(this,"maxSize");this.maxSize=e}get size(){return this.map.size}get(e){const t=this.map.get(e);if(t!==void 0)return t!==this.first&&(t===this.last?(this.last=t.prev,this.last.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),t.next=this.first,this.first.prev=t,this.first=t),t.value}set(e,t){if(this.maxSize<1)return;if(this.map.has(e))throw new Error("Cannot update existing keys in the cache");const i=new Oi(e,t);for(this.first===void 0?(this.first=i,this.last=i):(i.next=this.first,this.first.prev=i,this.first=i),this.map.set(e,i);this.map.size>this.maxSize;){const r=this.last;this.map.delete(r.key),this.last=r.prev,this.last.next=void 0}}}class Oi{constructor(e,t){M(this,"key");M(this,"value");M(this,"next");M(this,"prev");this.key=e,this.value=t}}const yt=17,$i=9e15,_i=Math.log10(9e15),Ri=1/9e15,Vi=308,Di=-324,Bt=5,Li=1023,Bi=function(){const n=[];for(let t=Di+1;t<=Vi;t++)n.push(+("1e"+t));const e=323;return function(t){return n[t+e]}}(),$e=[2,Math.E,3,4,5,6,7,8,9,10],Ui=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],qi=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let v=function(e){return c.fromValue_noAlloc(e)},_=function(n,e,t){return c.fromComponents(n,e,t)},U=function(e,t,i){return c.fromComponents_noNormalize(e,t,i)};const Te=function(e,t){const i=t+1,r=Math.ceil(Math.log10(Math.abs(e))),a=Math.round(e*Math.pow(10,i-r))*Math.pow(10,r-i);return parseFloat(a.toFixed(Math.max(i-r,0)))},xt=function(n){return Math.sign(n)*Math.log10(Math.abs(n))},Gi=function(n){if(!isFinite(n))return n;if(n<-50)return n===Math.trunc(n)?Number.NEGATIVE_INFINITY:0;let e=1;for(;n<10;)e=e*n,++n;n-=1;let t=.9189385332046727;t=t+(n+.5)*Math.log(n),t=t-n;const i=n*n;let r=n;return t=t+1/(12*r),r=r*i,t=t+1/(360*r),r=r*i,t=t+1/(1260*r),r=r*i,t=t+1/(1680*r),r=r*i,t=t+1/(1188*r),r=r*i,t=t+691/(360360*r),r=r*i,t=t+7/(1092*r),r=r*i,t=t+3617/(122400*r),Math.exp(t)/e},nn=.5671432904097838,Ut=function(n,e=1e-10){let t,i;if(!Number.isFinite(n)||n===0)return n;if(n===1)return nn;n<10?t=0:t=Math.log(n)-Math.log(Math.log(n));for(let r=0;r<100;++r){if(i=(n*Math.exp(-t)+t*t)/(t+1),Math.abs(i-t)<e*Math.abs(i))return i;t=i}throw Error(`Iteration failed to converge: ${n.toString()}`)};function qt(n,e=1e-10){let t,i,r,a;if(!Number.isFinite(n.mag)||n.eq(c.dZero))return n;if(n.eq(c.dOne))return c.fromNumber(nn);t=c.ln(n);for(let d=0;d<100;++d){if(i=t.neg().exp(),r=t.sub(n.mul(i)),a=t.sub(r.div(t.add(1).sub(t.add(2).mul(r).div(c.mul(2,t).add(2))))),c.abs(a.sub(t)).lt(c.abs(a).mul(e)))return a;t=a}throw Error(`Iteration failed to converge: ${n.toString()}`)}const g=class g{constructor(e){M(this,"sign",0);M(this,"mag",0);M(this,"layer",0);e instanceof g?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let t;return this.mag===5e-324?t=5:t=this.mag/Bi(e),this.sign*t}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,t,i){return new g().fromComponents(e,t,i)}static fromComponents_noNormalize(e,t,i){return new g().fromComponents_noNormalize(e,t,i)}static fromMantissaExponent(e,t){return new g().fromMantissaExponent(e,t)}static fromMantissaExponent_noNormalize(e,t){return new g().fromMantissaExponent_noNormalize(e,t)}static fromDecimal(e){return new g().fromDecimal(e)}static fromNumber(e){return new g().fromNumber(e)}static fromString(e){return new g().fromString(e)}static fromValue(e){return new g().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof g)return e;if(typeof e=="string"){const t=g.fromStringCache.get(e);return t!==void 0?t:g.fromString(e)}else return typeof e=="number"?g.fromNumber(e):g.dZero}static abs(e){return v(e).abs()}static neg(e){return v(e).neg()}static negate(e){return v(e).neg()}static negated(e){return v(e).neg()}static sign(e){return v(e).sign}static sgn(e){return v(e).sign}static round(e){return v(e).round()}static floor(e){return v(e).floor()}static ceil(e){return v(e).ceil()}static trunc(e){return v(e).trunc()}static add(e,t){return v(e).add(t)}static plus(e,t){return v(e).add(t)}static sub(e,t){return v(e).sub(t)}static subtract(e,t){return v(e).sub(t)}static minus(e,t){return v(e).sub(t)}static mul(e,t){return v(e).mul(t)}static multiply(e,t){return v(e).mul(t)}static times(e,t){return v(e).mul(t)}static div(e,t){return v(e).div(t)}static divide(e,t){return v(e).div(t)}static recip(e){return v(e).recip()}static reciprocal(e){return v(e).recip()}static reciprocate(e){return v(e).reciprocate()}static cmp(e,t){return v(e).cmp(t)}static cmpabs(e,t){return v(e).cmpabs(t)}static compare(e,t){return v(e).cmp(t)}static isNaN(e){return e=v(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=v(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,t){return v(e).eq(t)}static equals(e,t){return v(e).eq(t)}static neq(e,t){return v(e).neq(t)}static notEquals(e,t){return v(e).notEquals(t)}static lt(e,t){return v(e).lt(t)}static lte(e,t){return v(e).lte(t)}static gt(e,t){return v(e).gt(t)}static gte(e,t){return v(e).gte(t)}static max(e,t){return v(e).max(t)}static min(e,t){return v(e).min(t)}static minabs(e,t){return v(e).minabs(t)}static maxabs(e,t){return v(e).maxabs(t)}static clamp(e,t,i){return v(e).clamp(t,i)}static clampMin(e,t){return v(e).clampMin(t)}static clampMax(e,t){return v(e).clampMax(t)}static cmp_tolerance(e,t,i){return v(e).cmp_tolerance(t,i)}static compare_tolerance(e,t,i){return v(e).cmp_tolerance(t,i)}static eq_tolerance(e,t,i){return v(e).eq_tolerance(t,i)}static equals_tolerance(e,t,i){return v(e).eq_tolerance(t,i)}static neq_tolerance(e,t,i){return v(e).neq_tolerance(t,i)}static notEquals_tolerance(e,t,i){return v(e).notEquals_tolerance(t,i)}static lt_tolerance(e,t,i){return v(e).lt_tolerance(t,i)}static lte_tolerance(e,t,i){return v(e).lte_tolerance(t,i)}static gt_tolerance(e,t,i){return v(e).gt_tolerance(t,i)}static gte_tolerance(e,t,i){return v(e).gte_tolerance(t,i)}static pLog10(e){return v(e).pLog10()}static absLog10(e){return v(e).absLog10()}static log10(e){return v(e).log10()}static log(e,t){return v(e).log(t)}static log2(e){return v(e).log2()}static ln(e){return v(e).ln()}static logarithm(e,t){return v(e).logarithm(t)}static pow(e,t){return v(e).pow(t)}static pow10(e){return v(e).pow10()}static pow_base(e,t){return v(e).pow_base(t)}static root(e,t){return v(e).root(t)}static factorial(e,t){return v(e).factorial()}static gamma(e,t){return v(e).gamma()}static lngamma(e,t){return v(e).lngamma()}static exp(e){return v(e).exp()}static sqr(e){return v(e).sqr()}static sqrt(e){return v(e).sqrt()}static cube(e){return v(e).cube()}static cbrt(e){return v(e).cbrt()}static tetrate(e,t=2,i=U(1,0,1)){return v(e).tetrate(t,i)}static iteratedexp(e,t=2,i=U(1,0,1)){return v(e).iteratedexp(t,i)}static iteratedlog(e,t=10,i=1){return v(e).iteratedlog(t,i)}static layeradd10(e,t){return v(e).layeradd10(t)}static layeradd(e,t,i=10){return v(e).layeradd(t,i)}static slog(e,t=10){return v(e).slog(t)}static lambertw(e){return v(e).lambertw()}static ssqrt(e){return v(e).ssqrt()}static pentate(e,t=2,i=U(1,0,1)){return v(e).pentate(t,i)}static sin(e){return v(e).sin()}static cos(e){return v(e).cos()}static tan(e){return v(e).tan()}static asin(e){return v(e).asin()}static acos(e){return v(e).acos()}static atan(e){return v(e).atan()}static sinh(e){return v(e).sinh()}static cosh(e){return v(e).cosh()}static tanh(e){return v(e).tanh()}static asinh(e){return v(e).asinh()}static acosh(e){return v(e).acosh()}static atanh(e){return v(e).atanh()}static affordGeometricSeries(e,t,i,r){return this.affordGeometricSeries_core(v(e),v(t),v(i),r)}static sumGeometricSeries(e,t,i,r){return this.sumGeometricSeries_core(e,v(t),v(i),r)}static affordArithmeticSeries(e,t,i,r){return this.affordArithmeticSeries_core(v(e),v(t),v(i),v(r))}static sumArithmeticSeries(e,t,i,r){return this.sumArithmeticSeries_core(v(e),v(t),v(i),v(r))}static efficiencyOfPurchase(e,t,i){return this.efficiencyOfPurchase_core(v(e),v(t),v(i))}static randomDecimalForTesting(e){if(Math.random()*20<1)return U(0,0,0);const t=Math.random()>.5?1:-1;if(Math.random()*20<1)return U(t,0,1);const i=Math.floor(Math.random()*(e+1));let r=i===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(r=Math.trunc(r));let a=Math.pow(10,r);return Math.random()>.9&&(a=Math.trunc(a)),_(t,i,a)}static affordGeometricSeries_core(e,t,i,r){const a=t.mul(i.pow(r));return g.floor(e.div(a).mul(i.sub(1)).add(1).log10().div(i.log10()))}static sumGeometricSeries_core(e,t,i,r){return t.mul(i.pow(r)).mul(g.sub(1,i.pow(e))).div(g.sub(1,i))}static affordArithmeticSeries_core(e,t,i,r){const d=t.add(r.mul(i)).sub(i.div(2)),u=d.pow(2);return d.neg().add(u.add(i.mul(e).mul(2)).sqrt()).div(i).floor()}static sumArithmeticSeries_core(e,t,i,r){const a=t.add(r.mul(i));return e.div(2).mul(a.mul(2).plus(e.sub(1).mul(i)))}static efficiencyOfPurchase_core(e,t,i){return e.div(t).add(e.div(i))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<Ri)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),t=Math.sign(this.mag);if(e>=$i)return this.layer+=1,this.mag=t*Math.log10(e),this;for(;e<_i&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=t*Math.pow(10,e),e=Math.abs(this.mag),t=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,t,i){return this.sign=e,this.layer=t,this.mag=i,this.normalize(),this}fromComponents_noNormalize(e,t,i){return this.sign=e,this.layer=t,this.mag=i,this}fromMantissaExponent(e,t){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=t+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,t){return this.fromMantissaExponent(e,t),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const t=e,i=g.fromStringCache.get(t);if(i!==void 0)return this.fromDecimal(i);e=e.replace(",","");const r=e.split("^^^");if(r.length===2){const F=parseFloat(r[0]),H=parseFloat(r[1]),T=r[1].split(";");let z=1;if(T.length===2&&(z=parseFloat(T[1]),isFinite(z)||(z=1)),isFinite(F)&&isFinite(H)){const V=g.pentate(F,H,z);return this.sign=V.sign,this.layer=V.layer,this.mag=V.mag,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}}const a=e.split("^^");if(a.length===2){const F=parseFloat(a[0]),H=parseFloat(a[1]),T=a[1].split(";");let z=1;if(T.length===2&&(z=parseFloat(T[1]),isFinite(z)||(z=1)),isFinite(F)&&isFinite(H)){const V=g.tetrate(F,H,z);return this.sign=V.sign,this.layer=V.layer,this.mag=V.mag,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}}const d=e.split("^");if(d.length===2){const F=parseFloat(d[0]),H=parseFloat(d[1]);if(isFinite(F)&&isFinite(H)){const T=g.pow(F,H);return this.sign=T.sign,this.layer=T.layer,this.mag=T.mag,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}}e=e.trim().toLowerCase();let u,l,m=e.split("pt");if(m.length===2){u=10,l=parseFloat(m[0]),m[1]=m[1].replace("(",""),m[1]=m[1].replace(")","");let F=parseFloat(m[1]);if(isFinite(F)||(F=1),isFinite(u)&&isFinite(l)){const H=g.tetrate(u,l,F);return this.sign=H.sign,this.layer=H.layer,this.mag=H.mag,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}}if(m=e.split("p"),m.length===2){u=10,l=parseFloat(m[0]),m[1]=m[1].replace("(",""),m[1]=m[1].replace(")","");let F=parseFloat(m[1]);if(isFinite(F)||(F=1),isFinite(u)&&isFinite(l)){const H=g.tetrate(u,l,F);return this.sign=H.sign,this.layer=H.layer,this.mag=H.mag,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}}const b=e.split("e"),w=b.length-1;if(w===0){const F=parseFloat(e);if(isFinite(F))return this.fromNumber(F),g.fromStringCache.size>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}else if(w===1){const F=parseFloat(e);if(isFinite(F)&&F!==0)return this.fromNumber(F),g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}const N=e.split("e^");if(N.length===2){this.sign=1,N[0].charAt(0)=="-"&&(this.sign=-1);let F="";for(let H=0;H<N[1].length;++H){const T=N[1].charCodeAt(H);if(T>=43&&T<=57||T===101)F+=N[1].charAt(H);else return this.layer=parseFloat(F),this.mag=parseFloat(N[1].substr(H+1)),this.normalize(),g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}}if(w<1)return this.sign=0,this.layer=0,this.mag=0,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this;const p=parseFloat(b[0]);if(p===0)return this.sign=0,this.layer=0,this.mag=0,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this;let P=parseFloat(b[b.length-1]);if(w>=2){const F=parseFloat(b[b.length-2]);isFinite(F)&&(P*=Math.sign(F),P+=xt(F))}if(!isFinite(p))this.sign=b[0]==="-"?-1:1,this.layer=w,this.mag=P;else if(w===1)this.sign=Math.sign(p),this.layer=1,this.mag=P+Math.log10(Math.abs(p));else if(this.sign=Math.sign(p),this.layer=w,w===2){const F=g.mul(_(1,2,P),v(p));return this.sign=F.sign,this.layer=F.layer,this.mag=F.mag,g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}else this.mag=P;return this.normalize(),g.fromStringCache.maxSize>=1&&g.fromStringCache.set(t,g.fromDecimal(this)),this}fromValue(e){return e instanceof g?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:Te(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:Te(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=Bt?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):Te(this.m,e)+"e"+Te(this.e,e):this.layer===1?Te(this.m,e)+"e"+Te(this.e,e):this.layer<=Bt?(this.sign===-1?"-":"")+"e".repeat(this.layer)+Te(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+Te(this.mag,e)}abs(){return U(this.sign===0?0:1,this.layer,this.mag)}neg(){return U(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?g.dZero:this.layer===0?_(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?g.dZero:this.layer===0?_(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?g.dZero:this.layer===0?_(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?g.dZero:this.layer===0?_(this.sign,0,Math.trunc(this.mag)):this}add(e){const t=v(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer)||this.sign===0)return t;if(t.sign===0)return this;if(this.sign===-t.sign&&this.layer===t.layer&&this.mag===t.mag)return U(0,0,0);let i,r;if(this.layer>=2||t.layer>=2)return this.maxabs(t);if(g.cmpabs(this,t)>0?(i=this,r=t):(i=t,r=this),i.layer===0&&r.layer===0)return g.fromNumber(i.sign*i.mag+r.sign*r.mag);const a=i.layer*Math.sign(i.mag),d=r.layer*Math.sign(r.mag);if(a-d>=2)return i;if(a===0&&d===-1){if(Math.abs(r.mag-Math.log10(i.mag))>yt)return i;{const u=Math.pow(10,Math.log10(i.mag)-r.mag),l=r.sign+i.sign*u;return _(Math.sign(l),1,r.mag+Math.log10(Math.abs(l)))}}if(a===1&&d===0){if(Math.abs(i.mag-Math.log10(r.mag))>yt)return i;{const u=Math.pow(10,i.mag-Math.log10(r.mag)),l=r.sign+i.sign*u;return _(Math.sign(l),1,Math.log10(r.mag)+Math.log10(Math.abs(l)))}}if(Math.abs(i.mag-r.mag)>yt)return i;{const u=Math.pow(10,i.mag-r.mag),l=r.sign+i.sign*u;return _(Math.sign(l),1,r.mag+Math.log10(Math.abs(l)))}}plus(e){return this.add(e)}sub(e){return this.add(v(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const t=v(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer))return t;if(this.sign===0||t.sign===0)return U(0,0,0);if(this.layer===t.layer&&this.mag===-t.mag)return U(this.sign*t.sign,0,1);let i,r;if(this.layer>t.layer||this.layer==t.layer&&Math.abs(this.mag)>Math.abs(t.mag)?(i=this,r=t):(i=t,r=this),i.layer===0&&r.layer===0)return g.fromNumber(i.sign*r.sign*i.mag*r.mag);if(i.layer>=3||i.layer-r.layer>=2)return _(i.sign*r.sign,i.layer,i.mag);if(i.layer===1&&r.layer===0)return _(i.sign*r.sign,1,i.mag+Math.log10(r.mag));if(i.layer===1&&r.layer===1)return _(i.sign*r.sign,1,i.mag+r.mag);if(i.layer===2&&r.layer===1){const a=_(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(_(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return _(i.sign*r.sign,a.layer+1,a.sign*a.mag)}if(i.layer===2&&r.layer===2){const a=_(Math.sign(i.mag),i.layer-1,Math.abs(i.mag)).add(_(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return _(i.sign*r.sign,a.layer+1,a.sign*a.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const t=v(e);return this.mul(t.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?g.dNaN:this.layer===0?_(this.sign,0,1/this.mag):_(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const t=v(e);return this.sign>t.sign?1:this.sign<t.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const t=v(e),i=this.mag>0?this.layer:-this.layer,r=t.mag>0?t.layer:-t.layer;return i>r?1:i<r?-1:this.mag>t.mag?1:this.mag<t.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const t=v(e);return this.sign===t.sign&&this.layer===t.layer&&this.mag===t.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const t=v(e);return this.lt(t)?t:this}min(e){const t=v(e);return this.gt(t)?t:this}maxabs(e){const t=v(e);return this.cmpabs(t)<0?t:this}minabs(e){const t=v(e);return this.cmpabs(t)>0?t:this}clamp(e,t){return this.max(e).min(t)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,t){const i=v(e);return this.eq_tolerance(i,t)?0:this.cmp(i)}compare_tolerance(e,t){return this.cmp_tolerance(e,t)}eq_tolerance(e,t){const i=v(e);if(t==null&&(t=1e-7),this.sign!==i.sign||Math.abs(this.layer-i.layer)>1)return!1;let r=this.mag,a=i.mag;return this.layer>i.layer&&(a=xt(a)),this.layer<i.layer&&(r=xt(r)),Math.abs(r-a)<=t*Math.max(Math.abs(r),Math.abs(a))}equals_tolerance(e,t){return this.eq_tolerance(e,t)}neq_tolerance(e,t){return!this.eq_tolerance(e,t)}notEquals_tolerance(e,t){return this.neq_tolerance(e,t)}lt_tolerance(e,t){const i=v(e);return!this.eq_tolerance(i,t)&&this.lt(i)}lte_tolerance(e,t){const i=v(e);return this.eq_tolerance(i,t)||this.lt(i)}gt_tolerance(e,t){const i=v(e);return!this.eq_tolerance(i,t)&&this.gt(i)}gte_tolerance(e,t){const i=v(e);return this.eq_tolerance(i,t)||this.gt(i)}pLog10(){return this.lt(g.dZero)?g.dZero:this.log10()}absLog10(){return this.sign===0?g.dNaN:this.layer>0?_(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):_(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?g.dNaN:this.layer>0?_(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):_(this.sign,0,Math.log10(this.mag))}log(e){return e=v(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?g.dNaN:this.layer===0&&e.layer===0?_(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):g.div(this.log10(),e.log10())}log2(){return this.sign<=0?g.dNaN:this.layer===0?_(this.sign,0,Math.log2(this.mag)):this.layer===1?_(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?_(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):_(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?g.dNaN:this.layer===0?_(this.sign,0,Math.log(this.mag)):this.layer===1?_(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?_(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):_(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const t=v(e),i=this,r=t;if(i.sign===0)return r.eq(0)?U(1,0,1):i;if(i.sign===1&&i.layer===0&&i.mag===1)return i;if(r.sign===0)return U(1,0,1);if(r.sign===1&&r.layer===0&&r.mag===1)return i;const a=i.absLog10().mul(r).pow10();return this.sign===-1?Math.abs(r.toNumber()%2)%2===1?a.neg():Math.abs(r.toNumber()%2)%2===0?a:g.dNaN:a}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return g.dNaN;let e=this;if(e.layer===0){const t=Math.pow(10,e.sign*e.mag);if(Number.isFinite(t)&&Math.abs(t)>=.1)return _(1,0,t);if(e.sign===0)return g.dOne;e=U(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?_(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?_(-e.sign,e.layer+1,-e.mag):g.dOne}pow_base(e){return v(e).pow(this)}root(e){const t=v(e);return this.pow(t.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?g.exp(g.mul(this,g.ln(this).sub(1))):g.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(U(1,0,24)))return g.fromNumber(Gi(this.sign*this.mag));const e=this.mag-1;let t=.9189385332046727;t=t+(e+.5)*Math.log(e),t=t-e;const i=e*e;let r=e,a=12*r,d=1/a,u=t+d;if(u===t||(t=u,r=r*i,a=360*r,d=1/a,u=t-d,u===t))return g.exp(t);t=u,r=r*i,a=1260*r;let l=1/a;return t=t+l,r=r*i,a=1680*r,l=1/a,t=t-l,g.exp(t)}else return this.layer===1?g.exp(g.mul(this,g.ln(this).sub(1))):g.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?g.dOne:this.layer===0&&this.mag<=709.7?g.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?_(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?_(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):_(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return g.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return _(1,2,Math.log10(this.mag)-.3010299956639812);{const e=g.div(U(this.sign,this.layer-1,this.mag),U(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,t=U(1,0,1)){if(e===1)return g.pow(this,t);if(e===0)return new g(t);if(this.eq(g.dOne))return g.dOne;if(this.eq(-1))return g.pow(this,t);if(e===Number.POSITIVE_INFINITY){const a=this.toNumber();if(a<=1.444667861009766&&a>=.06598803584531254){if(a>1.444667861009099)return g.fromNumber(Math.E);const d=g.ln(this).neg();return d.lambertw().div(d)}else return a>1.444667861009766?g.fromNumber(Number.POSITIVE_INFINITY):g.dNaN}if(this.eq(g.dZero)){let a=Math.abs((e+1)%2);return a>1&&(a=2-a),g.fromNumber(a)}if(e<0)return g.iteratedlog(t,this,-e);t=v(t);const i=e;e=Math.trunc(e);const r=i-e;if(this.gt(g.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let a=0;a<e;++a){const d=t;if(t=this.pow(t),d.eq(t))return t}if(r!=0){const a=this.pow(t);return t.mul(1-r).add(a.mul(r))}return t}r!==0&&(t.eq(g.dOne)?this.gt(10)?t=this.pow(r):(t=g.fromNumber(g.tetrate_critical(this.toNumber(),r)),this.lt(2)&&(t=t.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?t=t.layeradd10(r):t=t.layeradd(r,this));for(let a=0;a<e;++a){if(t=this.pow(t),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(t.layer-this.layer>3)return U(t.sign,t.layer+(e-a-1),t.mag);if(a>1e4)return t}return t}iteratedexp(e=2,t=U(1,0,1)){return this.tetrate(e,t)}iteratedlog(e=10,t=1){if(t<0)return g.tetrate(e,-t,this);e=v(e);let i=g.fromDecimal(this);const r=t;t=Math.trunc(t);const a=r-t;if(i.layer-e.layer>3){const d=Math.min(t,i.layer-e.layer-3);t-=d,i.layer-=d}for(let d=0;d<t;++d){if(i=i.log(e),!isFinite(i.layer)||!isFinite(i.mag))return i.normalize();if(d>1e4)return i}return a>0&&a<1&&(e.eq(10)?i=i.layeradd10(-a):i=i.layeradd(-a,e)),i}slog(e=10,t=100){let i=.001,r=!1,a=!1,d=this.slog_internal(e).toNumber();for(let u=1;u<t;++u){const m=new g(e).tetrate(d).gt(this);if(u>1&&a!=m&&(r=!0),a=m,r?i/=2:i*=2,i=Math.abs(i)*(m?-1:1),d+=i,i===0)break}return g.fromNumber(d)}slog_internal(e=10){if(e=v(e),e.lte(g.dZero)||e.eq(g.dOne))return g.dNaN;if(e.lt(g.dOne))return this.eq(g.dOne)?g.dZero:this.eq(g.dZero)?g.dNegOne:g.dNaN;if(this.mag<0||this.eq(g.dZero))return g.dNegOne;let t=0,i=g.fromDecimal(this);if(i.layer-e.layer>3){const r=i.layer-e.layer-3;t+=r,i.layer-=r}for(let r=0;r<100;++r)if(i.lt(g.dZero))i=g.pow(e,i),t-=1;else{if(i.lte(g.dOne))return g.fromNumber(t+g.slog_critical(e.toNumber(),i.toNumber()));t+=1,i=g.log(i,e)}return g.fromNumber(t)}static slog_critical(e,t){return e>10?t-1:g.critical_section(e,t,qi)}static tetrate_critical(e,t){return g.critical_section(e,t,Ui)}static critical_section(e,t,i){t*=10,t<0&&(t=0),t>10&&(t=10),e<2&&(e=2),e>10&&(e=10);let r=0,a=0;for(let u=0;u<$e.length;++u)if($e[u]==e){r=i[u][Math.floor(t)],a=i[u][Math.ceil(t)];break}else if($e[u]<e&&$e[u+1]>e){const l=(e-$e[u])/($e[u+1]-$e[u]);r=i[u][Math.floor(t)]*(1-l)+i[u+1][Math.floor(t)]*l,a=i[u][Math.ceil(t)]*(1-l)+i[u+1][Math.ceil(t)]*l;break}const d=t-Math.floor(t);return r<=0||a<=0?r*(1-d)+a*d:Math.pow(e,Math.log(r)/Math.log(e)*(1-d)+Math.log(a)/Math.log(e)*d)}layeradd10(e){e=g.fromValue_noAlloc(e).toNumber();const t=g.fromDecimal(this);if(e>=1){t.mag<0&&t.layer>0?(t.sign=0,t.mag=0,t.layer=0):t.sign===-1&&t.layer==0&&(t.sign=1,t.mag=-t.mag);const i=Math.trunc(e);e-=i,t.layer+=i}if(e<=-1){const i=Math.trunc(e);if(e-=i,t.layer+=i,t.layer<0)for(let r=0;r<100;++r){if(t.layer++,t.mag=Math.log10(t.mag),!isFinite(t.mag))return t.sign===0&&(t.sign=1),t.layer<0&&(t.layer=0),t.normalize();if(t.layer>=0)break}}for(;t.layer<0;)t.layer++,t.mag=Math.log10(t.mag);return t.sign===0&&(t.sign=1,t.mag===0&&t.layer>=1&&(t.layer-=1,t.mag=1)),t.normalize(),e!==0?t.layeradd(e,10):t}layeradd(e,t){const r=this.slog(t).toNumber()+e;return r>=0?g.tetrate(t,r):Number.isFinite(r)?r>=-1?g.log(g.tetrate(t,r+1),t):g.log(g.log(g.tetrate(t,r+2),t),t):g.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return g.fromNumber(Ut(this.toNumber()));if(this.layer===0)return g.fromNumber(Ut(this.sign*this.mag));if(this.layer===1)return qt(this);if(this.layer===2)return qt(this);if(this.layer>=3)return U(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return U(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,t=U(1,0,1)){t=v(t);const i=e;e=Math.trunc(e);const r=i-e;r!==0&&(t.eq(g.dOne)?(++e,t=g.fromNumber(r)):this.eq(10)?t=t.layeradd10(r):t=t.layeradd(r,this));for(let a=0;a<e;++a){if(t=this.tetrate(t.toNumber()),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(a>10)return t}return t}sin(){return this.mag<0?this:this.layer===0?g.fromNumber(Math.sin(this.sign*this.mag)):U(0,0,0)}cos(){return this.mag<0?g.dOne:this.layer===0?g.fromNumber(Math.cos(this.sign*this.mag)):U(0,0,0)}tan(){return this.mag<0?this:this.layer===0?g.fromNumber(Math.tan(this.sign*this.mag)):U(0,0,0)}asin(){return this.mag<0?this:this.layer===0?g.fromNumber(Math.asin(this.sign*this.mag)):U(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?g.fromNumber(Math.acos(this.toNumber())):this.layer===0?g.fromNumber(Math.acos(this.sign*this.mag)):U(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?g.fromNumber(Math.atan(this.sign*this.mag)):g.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return g.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return g.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?U(Number.NaN,Number.NaN,Number.NaN):g.ln(this.add(1).div(g.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(g.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};M(g,"dZero"),M(g,"dOne"),M(g,"dNegOne"),M(g,"dTwo"),M(g,"dTen"),M(g,"dNaN"),M(g,"dInf"),M(g,"dNegInf"),M(g,"dNumberMax"),M(g,"dNumberMin"),M(g,"fromStringCache",new Ai(Li));let c=g;c.dZero=U(0,0,0);c.dOne=U(1,0,1);c.dNegOne=U(-1,0,1);c.dTwo=U(1,0,2);c.dTen=U(1,0,10);c.dNaN=U(Number.NaN,Number.NaN,Number.NaN);c.dInf=U(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);c.dNegInf=U(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);c.dNumberMax=_(1,0,Number.MAX_VALUE);c.dNumberMin=_(1,0,Number.MIN_VALUE);v=c.fromValue_noAlloc;_=c.fromComponents;U=c.fromComponents_noNormalize;c.fromMantissaExponent;c.fromMantissaExponent_noNormalize;const Wi=new c(1);function Ze(n,e,t=!0){let i=c.log10(n).floor(),r=c.div(n,c.pow(10,i));r.toStringWithDecimalPlaces(e)==="10"&&(r=Wi,i=i.add(1));const a=i.gte(1e9)?be(i,Math.max(Math.max(e,3),G.defaultDecimalsShown)):i.gte(1e4)?dt(i,0):i.toStringWithDecimalPlaces(0);return t?r.toStringWithDecimalPlaces(e)+"e"+a:"e"+a}function dt(n,e){if(n==null)return"NaN";if(n=new c(n),n.mag<.001)return 0 .toFixed(e);const i=n.toStringWithDecimalPlaces(e).split(".");return i[0]=i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),i.length===1?i[0]:i[0]+"."+i[1]}function rn(n,e){return n==null?"NaN":(n=new c(n),n.mag<1e-4?0 .toFixed(e):(n.mag<.1&&e!==0&&(e=Math.max(Math.max(e,n.log10().negate().ceil().toNumber()),G.defaultDecimalsShown)),n.toStringWithDecimalPlaces(e)))}const Hi=new c("eeee1000"),Yi=new c("e100000"),Gt=new c("e1000"),an=new c(1e9),Ji=new c(1e6),ji=new c(1e3),Zi=new c(.98),Ki=new c(.001),on=new c(0);function be(n,e,t){if(e==null&&(e=G.defaultDecimalsShown),t=t??G.defaultShowSmall,n=new c(n),isNaN(n.sign)||isNaN(n.layer)||isNaN(n.mag))return"NaN";if(n.sign<0)return"-"+be(n.neg(),e);if(n.mag===Number.POSITIVE_INFINITY)return"Infinity";if(n.gte(Hi)){const i=n.slog();return i.gte(Ji)?"F"+be(i.floor()):c.pow(10,i.sub(i.floor())).toStringWithDecimalPlaces(3)+"F"+dt(i.floor(),0)}else{if(n.gte(Yi))return Ze(n,0,!1);if(n.gte(Gt))return Ze(n,0);if(n.gte(an))return Ze(n,e);if(n.gte(ji))return dt(n,0);if(n.gte(Ki)||!t)return rn(n,e);if(n.eq(on))return 0 .toFixed(e)}return n=ln(n),n.lt(Gt)?Ze(n,e).replace(/([^(?:e|F)]*)$/,"-$1"):be(n,e)+"⁻¹"}function he(n){return n=new c(n),n.sign<0?"-"+he(n.neg()):n.gte(an)||n.lte(Zi)&&!n.eq(on)?be(n):be(n,0)}function sn(n){return c.lt(n,0)?"-"+sn(c.neg(n)):c.gt(n,2**51)?be(c.div(n,31536e3))+"y":(n=new c(n).toNumber(),n<60?be(n)+"s":n<3600?he(Math.floor(n/60))+"m "+be(n%60)+"s":n<86400?he(Math.floor(n/3600))+"h "+he(Math.floor(n/60)%60)+"m "+he(n%60)+"s":n<31536e3?he(Math.floor(n/84600)%365)+"d "+he(Math.floor(n/3600)%24)+"h "+he(Math.floor(n/60)%60)+"m":he(Math.floor(n/31536e3))+"y "+he(Math.floor(n/84600)%365)+"d "+he(Math.floor(n/3600)%24)+"h")}function Xi(n,e,t){n=new c(n);let i=n.toStringWithDecimalPlaces(e);return new c(i).gte(t)&&(i=c.sub(t,Math.pow(.1,e)).toStringWithDecimalPlaces(e)),i}function Qi(n,e){return be(n,e,!0)}function ln(n){let e=c.log10(n).ceil();const t=c.div(n,c.pow(10,e));return e=e.neg(),n=new c(10).pow(e).times(t),n}const er=Object.freeze(Object.defineProperty({__proto__:null,commaFormat:dt,default:c,exponentialFormat:Ze,format:be,formatSmall:Qi,formatTime:sn,formatWhole:he,invertOOM:ln,regularFormat:rn,toPlaces:Xi},Symbol.toStringTag,{value:"Module"})),{exponentialFormat:tr,commaFormat:nr,regularFormat:ir,format:Ce,formatWhole:un,formatTime:cn,toPlaces:rr,formatSmall:ar,invertOOM:or}=er;window.Decimal=c;window.exponentialFormat=tr;window.commaFormat=nr;window.regularFormat=ir;window.format=Ce;window.formatWhole=un;window.formatTime=cn;window.toPlaces=rr;window.formatSmall=ar;window.invertOOM=or;const Re=Symbol("ProxyState"),Wt=Symbol("AfterEvaluation");function zt(n,e={}){const t=e;let i=!1,r=!1;const a=[];function d(){if(!i){if(r)throw new Error("Cyclical dependency detected. Cannot evaluate lazy proxy.");r=!0,Object.assign(t,n.call(t,t)),i=!0,a.forEach(l=>l(t))}return t}function u(l){i?l(t):a.push(l)}return new Proxy(t,{get(l,m){if(m===Re)return d();if(m===Wt)return u;const b=d()[m];return b!=null&&typeof b=="object"&&Pe in b?b[Pe]:b},set(l,m,b){return d()[m]=b,!0},has(l,m){return m===Re||m===Wt?!0:Reflect.has(d(),m)},ownKeys(){return Reflect.ownKeys(d())},getOwnPropertyDescriptor(l,m){return i||(Object.assign(t,n.call(t,t)),i=!0),Object.getOwnPropertyDescriptor(l,m)}})}function sr(n){let e=n.replace(/([A-Z])/g," $1");return e=e.charAt(0).toUpperCase()+e.slice(1),e}function lr(n){return typeof n=="function"}var ce=(n=>(n.Up="Up",n.Down="Down",n.Left="Left",n.Right="Right",n.Default="Up",n))(ce||{});function ue(n){return lr(n)&&n.length===0?R(n):n}const dn=c.ln(10);function ut(n){return n}function je(n,...e){const t=e.find(i=>I(i));return t==null?(console.error("Could not invert due to no input being a variable"),0):t.invert(n)}function ur(n,e){return I(e)?e.invert(c.neg(n)):(console.error("Could not invert due to no input being a variable"),0)}function cr(n,e){return I(e)?e.isIntegrable()?o.neg(e.getIntegralFormula(n)):(console.error("Could not integrate due to variable not being integrable"),o.constant(0)):(console.error("Could not integrate due to no input being a variable"),o.constant(0))}function dr(n){return o.neg(n)}function mr(n,e,t){return I(e)?e.invert(c.sub(n,te(t))):I(t)?t.invert(c.sub(n,te(e))):(console.error("Could not invert due to no input being a variable"),0)}function gr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.times(t,e.innermostVariable??0).add(i)}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.times(e,t.innermostVariable??0).add(i)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function fr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.add(i,t)}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.add(i,e)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function pr(n,e,t){return I(e)?e.invert(c.add(n,te(t))):I(t)?t.invert(c.sub(te(e),n)):(console.error("Could not invert due to no input being a variable"),0)}function hr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.sub(i,o.times(t,e.innermostVariable??0))}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.times(e,t.innermostVariable??0).sub(i)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function vr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.sub(i,t)}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.sub(i,e)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function br(n,e,t){return I(e)?e.invert(c.div(n,te(t))):I(t)?t.invert(c.div(n,te(e))):(console.error("Could not invert due to no input being a variable"),0)}function yr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.times(i,t)}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.times(i,e)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function xr(n,e,t){return I(e)?o.div(n,t):I(t)?o.div(n,e):(console.error("Could not apply substitution due to no input being a variable"),o.constant(0))}function wr(n,e,t){return I(e)?e.invert(c.mul(n,te(t))):I(t)?t.invert(c.div(te(e),n)):(console.error("Could not invert due to no input being a variable"),0)}function Nr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.div(i,t)}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.div(e,i)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Cr(n,e,t){return I(e)?o.mul(n,t):I(t)?o.mul(n,e):(console.error("Could not apply substitution due to no input being a variable"),o.constant(0))}function Ir(n,e){return I(e)?e.invert(c.recip(n)):(console.error("Could not invert due to no input being a variable"),0)}function Sr(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.ln(t)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function kr(n,e){return I(e)?e.invert(c.pow10(n)):(console.error("Could not invert due to no input being a variable"),0)}function Tr(n){return c.ln(n).sub(1).times(n).div(dn)}function Mr(n,e){if(I(e)){const t=dn.times(n);return e.invert(t.div(t.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Pr(n,e){return I(e)?e.isIntegrable()?new o({inputs:[e.getIntegralFormula(n)],evaluate:Tr,invert:Mr}):(console.error("Could not integrate due to variable not being integrable"),o.constant(0)):(console.error("Could not integrate due to no input being a variable"),o.constant(0))}function zr(n,e,t){return I(e)?e.invert(c.pow(te(t),n)):I(t)?t.invert(c.root(te(e),n)):(console.error("Could not invert due to no input being a variable"),0)}function Er(n,e){return c.ln(n).sub(1).times(n).div(c.ln(e))}function Fr(n,e,t){if(I(e)){const i=c.ln(te(t)).times(n);return e.invert(i.div(i.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Ar(n,e,t){return I(e)?e.isIntegrable()?new o({inputs:[e.getIntegralFormula(n),t],evaluate:Er,invert:Fr}):(console.error("Could not integrate due to variable not being integrable"),o.constant(0)):(console.error("Could not integrate due to no input being a variable"),o.constant(0))}function Or(n,e){return I(e)?e.invert(c.pow(2,n)):(console.error("Could not invert due to no input being a variable"),0)}function $r(n){return c.ln(n).sub(1).times(n).div(c.ln(2))}function _r(n,e){if(I(e)){const t=c.ln(2).times(n);return e.invert(t.div(t.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function Rr(n,e){return I(e)?e.isIntegrable()?new o({inputs:[e.getIntegralFormula(n)],evaluate:$r,invert:_r}):(console.error("Could not integrate due to variable not being integrable"),o.constant(0)):(console.error("Could not integrate due to no input being a variable"),o.constant(0))}function Vr(n,e){return I(e)?e.invert(c.exp(n)):(console.error("Could not invert due to no input being a variable"),0)}function Dr(n){return c.ln(n).sub(1).times(n)}function Lr(n,e){return I(e)?e.invert(c.div(n,c.div(n,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function Br(n,e){return I(e)?e.isIntegrable()?new o({inputs:[e.getIntegralFormula(n)],evaluate:Dr,invert:Lr}):(console.error("Could not integrate due to variable not being integrable"),o.constant(0)):(console.error("Could not integrate due to no input being a variable"),o.constant(0))}function Ur(n,e,t){return I(e)?e.invert(c.root(n,te(t))):I(t)?t.invert(c.ln(n).div(c.ln(te(e)))):(console.error("Could not invert due to no input being a variable"),0)}function qr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n),r=o.add(t,1);return o.pow(i,r).div(r)}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n);return o.pow(e,i).div(o.ln(e))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Gr(n,e){return I(e)?e.invert(c.root(n,10)):(console.error("Could not invert due to no input being a variable"),0)}function Wr(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.pow10(t).div(o.ln(10))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Hr(n,e,t){return I(e)?e.invert(c.ln(n).div(c.ln(te(t)))):I(t)?t.invert(c.root(te(e),n)):(console.error("Could not invert due to no input being a variable"),0)}function Yr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.pow(t,i).div(o.ln(t))}else if(I(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=t.getIntegralFormula(n),r=o.add(e,1);return o.pow(i,r).div(r)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Jr(n,e,t){return I(e)?e.invert(c.root(n,c.recip(te(t)))):I(t)?t.invert(c.ln(te(e)).div(c.ln(n))):(console.error("Could not invert due to no input being a variable"),0)}function jr(n,e,t){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const i=e.getIntegralFormula(n);return o.pow(i,o.recip(t).add(1)).times(t).div(o.add(t,1))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Zr(n,e){return I(e)?e.invert(c.ln(n)):(console.error("Could not invert due to no input being a variable"),0)}function Kr(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.exp(t)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Xr(n,e=2,t=c.fromComponents_noNormalize(1,0,1)){const i=c.minabs(e,1e308).toNumber();return c.tetrate(n,i,t)}function Qr(n,e,t,i){return I(e)?e.invert(c.ssqrt(n)):(console.error("Could not invert due to no input being a variable"),0)}function ea(n,e=2,t=c.fromComponents_noNormalize(1,0,1)){const i=c.minabs(e,1e308).toNumber();return c.iteratedexp(n,i,new c(t))}function ta(n,e,t,i){return I(e)?e.invert(c.iteratedlog(n,Math.E,c.minabs(1e308,te(t)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function na(n,e=10,t=2){const i=c.minabs(t,1e308).toNumber();return c.iteratedlog(n,e,i)}function ia(n,e=10){const t=c.minabs(e,1e308).toNumber();return c.slog(n,t)}function ra(n,e,t){return I(e)?e.invert(c.tetrate(n,c.minabs(1e308,te(t)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function aa(n,e,t){const i=c.minabs(e,1e308).toNumber();return c.layeradd(n,i,t)}function oa(n,e,t,i){return I(e)?e.invert(c.layeradd(n,c.minabs(1e308,te(t)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function sa(n,e){return I(e)?e.invert(c.pow(Math.E,n).times(n)):(console.error("Could not invert due to no input being a variable"),0)}function la(n,e){return I(e)?e.invert(c.tetrate(n,2)):(console.error("Could not invert due to no input being a variable"),0)}function ua(n,e,t){const i=c.minabs(e,1e308).toNumber();return c.pentate(n,i,t)}function ca(n,e){return I(e)?e.invert(c.asin(n)):(console.error("Could not invert due to no input being a variable"),0)}function da(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.cos(t).neg()}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function ma(n,e){return I(e)?e.invert(c.acos(n)):(console.error("Could not invert due to no input being a variable"),0)}function ga(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.sin(t)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function fa(n,e){return I(e)?e.invert(c.atan(n)):(console.error("Could not invert due to no input being a variable"),0)}function pa(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.cos(t).ln().neg()}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function ha(n,e){return I(e)?e.invert(c.sin(n)):(console.error("Could not invert due to no input being a variable"),0)}function va(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.asin(t).times(t).add(o.sqrt(o.sub(1,o.pow(t,2))))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function ba(n,e){return I(e)?e.invert(c.cos(n)):(console.error("Could not invert due to no input being a variable"),0)}function ya(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.acos(t).times(t).sub(o.sqrt(o.sub(1,o.pow(t,2))))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function xa(n,e){return I(e)?e.invert(c.tan(n)):(console.error("Could not invert due to no input being a variable"),0)}function wa(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.atan(t).times(t).sub(o.ln(o.pow(t,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Na(n,e){return I(e)?e.invert(c.asinh(n)):(console.error("Could not invert due to no input being a variable"),0)}function Ca(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.cosh(t)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Ia(n,e){return I(e)?e.invert(c.acosh(n)):(console.error("Could not invert due to no input being a variable"),0)}function Sa(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.sinh(t)}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function ka(n,e){return I(e)?e.invert(c.atanh(n)):(console.error("Could not invert due to no input being a variable"),0)}function Ta(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.cosh(t).ln()}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Ma(n,e){return I(e)?e.invert(c.sinh(n)):(console.error("Could not invert due to no input being a variable"),0)}function Pa(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.asinh(t).times(t).sub(o.pow(t,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function za(n,e){return I(e)?e.invert(c.cosh(n)):(console.error("Could not invert due to no input being a variable"),0)}function Ea(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.acosh(t).times(t).sub(o.add(t,1).sqrt().times(o.sub(t,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Fa(n,e){return I(e)?e.invert(c.tanh(n)):(console.error("Could not invert due to no input being a variable"),0)}function Aa(n,e){if(I(e)){if(!e.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),o.constant(0);const t=e.getIntegralFormula(n);return o.atanh(t).times(t).add(o.sub(1,o.pow(t,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),o.constant(0)}function Be(n){return(e,t)=>new o({inputs:[e,t],evaluate:n,invert:ut})}function I(n){return n instanceof nt&&n.hasVariable()}function te(n,e){return n instanceof nt?n.evaluate(e):h(n)}function Oa(){return o.pow(this,2).div(2)}function $a(){return this}const $=class ${constructor(e){M(this,"inputs");M(this,"internalEvaluate");M(this,"internalInvert");M(this,"internalIntegrate");M(this,"internalIntegrateInner");M(this,"applySubstitution");M(this,"description");M(this,"internalVariables");M(this,"innermostVariable");M(this,"negate",this.neg);M(this,"negated",this.neg);M(this,"sgn",this.sign);M(this,"plus",this.add);M(this,"subtract",this.sub);M(this,"minus",this.sub);M(this,"multiply",this.mul);M(this,"times",this.mul);M(this,"divide",this.div);M(this,"divideBy",this.div);M(this,"dividedBy",this.div);M(this,"reciprocal",this.recip);M(this,"reciprocate",this.recip);M(this,"logarithm",this.log);let t;"inputs"in e&&(e.inputs=e.inputs.map(i=>typeof i=="object"&&Pe in i?i[Pe]:i)),"variable"in e?(typeof e.variable=="object"&&Pe in e.variable&&(e.variable=e.variable[Pe]),t=this.setupVariable(e)):"evaluate"in e?t=this.setupFormula(e):t=this.setupConstant(e),this.inputs=t.inputs,this.internalVariables=t.internalVariables,this.innermostVariable=t.innermostVariable,this.internalEvaluate=t.internalEvaluate,this.internalInvert=t.internalInvert,this.internalIntegrate=t.internalIntegrate,this.internalIntegrateInner=t.internalIntegrateInner,this.applySubstitution=t.applySubstitution,this.description=e.description}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:Oa,internalIntegrateInner:$a,applySubstitution:ut}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){const{inputs:t,evaluate:i,invert:r,integrate:a,integrateInner:d,applySubstitution:u}=e,l=t.reduce((p,P)=>p+(P instanceof $?P.internalVariables:0),0),m=t.find(p=>p instanceof $&&p.hasVariable()),b=l===1?m==null?void 0:m.innermostVariable:void 0,w=(m==null?void 0:m.isInvertible())??!1,N=(m==null?void 0:m.isIntegrable())??!1;return{inputs:t,internalEvaluate:i,internalInvert:w?r:void 0,internalIntegrate:N?a:void 0,internalIntegrateInner:d,applySubstitution:u,innermostVariable:b,internalVariables:l}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var t;return((t=this.internalEvaluate)==null?void 0:t.call(this,...this.inputs.map(i=>te(i,e))))??(this.hasVariable()?e:null)??te(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((t,i)=>t instanceof $&&e.inputs[i]instanceof $?t.equals(e.inputs[i]):!(t instanceof $)&&!(e.inputs[i]instanceof $)&&c.eq(h(t),h(e.inputs[i])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new o({inputs:[e]})}static variable(e){return new o({variable:e})}static stringify(e){return e instanceof $?e.description!=null?e.description:e.internalEvaluate==null?e.hasVariable()?"x":Ce(e.inputs[0]??0):`${e.internalEvaluate.name}(${e.inputs.map(o.stringify).join(", ")})`:Ce(h(e))}static step(e,t,i){const r=i(o.variable(0)),a=ue(t);function d(l){return c.lt(l,h(a))?l:c.add(r.evaluate(c.sub(l,h(a))),h(a))}function u(l,m){return I(m)&&r.isInvertible()?(c.gt(l,h(a))&&(l=c.add(r.invert(c.sub(l,h(a))),h(a))),m.invert(l)):(console.error("Could not invert due to no input being a variable"),0)}return new o({inputs:[e],evaluate:d,invert:r.isInvertible()&&r.hasVariable()?u:void 0,description:"indeterminate"})}static if(e,t,i,r){const a=A(0),d=o.variable(a),u=i(d),l=r==null?void 0:r(d),m=ue(t);function b(N){return h(m)?(a.value=N,u.evaluate()):l?(a.value=N,l.evaluate()):N}function w(N,p){return!I(p)||!u.isInvertible()||l!=null&&!l.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):h(m)?p.invert(u.invert(N)):l?p.invert(l.invert(N)):p.invert(N)}return new o({inputs:[e],evaluate:b,invert:u.isInvertible()&&u.hasVariable()?w:void 0,description:"indeterminate"})}static conditional(e,t,i,r){return o.if(e,t,i,r)}static abs(e){return new o({inputs:[e],evaluate:c.abs})}static neg(e){return new o({inputs:[e],evaluate:c.neg,invert:ur,applySubstitution:dr,integrate:cr})}static sign(e){return new o({inputs:[e],evaluate:c.sign})}static round(e){return new o({inputs:[e],evaluate:c.round,invert:je})}static floor(e){return new o({inputs:[e],evaluate:c.floor,invert:je})}static ceil(e){return new o({inputs:[e],evaluate:c.ceil,invert:je})}static trunc(e){return new o({inputs:[e],evaluate:c.trunc,invert:je})}static add(e,t){return new o({inputs:[e,t],evaluate:c.add,invert:mr,integrate:gr,integrateInner:fr,applySubstitution:ut})}static sub(e,t){return new o({inputs:[e,t],evaluate:c.sub,invert:pr,integrate:hr,integrateInner:vr,applySubstitution:ut})}static mul(e,t){return new o({inputs:[e,t],evaluate:c.mul,invert:br,integrate:yr,applySubstitution:xr})}static div(e,t){return new o({inputs:[e,t],evaluate:c.div,invert:wr,integrate:Nr,applySubstitution:Cr})}static recip(e){return new o({inputs:[e],evaluate:c.recip,invert:Ir,integrate:Sr})}static clamp(e,t,i){return new o({inputs:[e,t,i],evaluate:c.clamp,invert:je})}static pLog10(e){return new o({inputs:[e],evaluate:c.pLog10})}static absLog10(e){return new o({inputs:[e],evaluate:c.absLog10})}static log10(e){return new o({inputs:[e],evaluate:c.log10,invert:kr,integrate:Pr})}static log(e,t){return new o({inputs:[e,t],evaluate:c.log,invert:zr,integrate:Ar})}static log2(e){return new o({inputs:[e],evaluate:c.log2,invert:Or,integrate:Rr})}static ln(e){return new o({inputs:[e],evaluate:c.ln,invert:Vr,integrate:Br})}static pow(e,t){return new o({inputs:[e,t],evaluate:c.pow,invert:Ur,integrate:qr})}static pow10(e){return new o({inputs:[e],evaluate:c.pow10,invert:Gr,integrate:Wr})}static pow_base(e,t){return new o({inputs:[e,t],evaluate:c.pow_base,invert:Hr,integrate:Yr})}static root(e,t){return new o({inputs:[e,t],evaluate:c.root,invert:Jr,integrate:jr})}static factorial(e){return new o({inputs:[e],evaluate:c.factorial})}static gamma(e){return new o({inputs:[e],evaluate:c.gamma})}static lngamma(e){return new o({inputs:[e],evaluate:c.lngamma})}static exp(e){return new o({inputs:[e],evaluate:c.exp,invert:Zr,integrate:Kr})}static sqr(e){return o.pow(e,2)}static sqrt(e){return o.root(e,2)}static cube(e){return o.pow(e,3)}static cbrt(e){return o.root(e,3)}static tetrate(e,t=2,i=c.fromComponents_noNormalize(1,0,1)){return new o({inputs:[e,t,i],evaluate:Xr,invert:Qr})}static iteratedexp(e,t=2,i=c.fromComponents_noNormalize(1,0,1)){return new o({inputs:[e,t,i],evaluate:ea,invert:ta})}static iteratedlog(e,t=10,i=1){return new o({inputs:[e,t,i],evaluate:na})}static slog(e,t=10){return new o({inputs:[e,t],evaluate:ia,invert:ra})}static layeradd10(e,t){return new o({inputs:[e,t],evaluate:c.layeradd10})}static layeradd(e,t,i=10){return new o({inputs:[e,t,i],evaluate:aa,invert:oa})}static lambertw(e){return new o({inputs:[e],evaluate:c.lambertw,invert:sa})}static ssqrt(e){return new o({inputs:[e],evaluate:c.ssqrt,invert:la})}static pentate(e,t=2,i=c.fromComponents_noNormalize(1,0,1)){return new o({inputs:[e,t,i],evaluate:ua})}static sin(e){return new o({inputs:[e],evaluate:c.sin,invert:ha,integrate:da})}static cos(e){return new o({inputs:[e],evaluate:c.cos,invert:ba,integrate:ga})}static tan(e){return new o({inputs:[e],evaluate:c.tan,invert:xa,integrate:pa})}static asin(e){return new o({inputs:[e],evaluate:c.asin,invert:ca,integrate:va})}static acos(e){return new o({inputs:[e],evaluate:c.acos,invert:ma,integrate:ya})}static atan(e){return new o({inputs:[e],evaluate:c.atan,invert:fa,integrate:wa})}static sinh(e){return new o({inputs:[e],evaluate:c.sinh,invert:Ma,integrate:Ca})}static cosh(e){return new o({inputs:[e],evaluate:c.cosh,invert:za,integrate:Sa})}static tanh(e){return new o({inputs:[e],evaluate:c.tanh,invert:Fa,integrate:Ta})}static asinh(e){return new o({inputs:[e],evaluate:c.asinh,invert:Na,integrate:Pa})}static acosh(e){return new o({inputs:[e],evaluate:c.acosh,invert:Ia,integrate:Ea})}static atanh(e){return new o({inputs:[e],evaluate:c.atanh,invert:ka,integrate:Aa})}stringify(){return o.stringify(this)}step(e,t){return o.step(this,e,t)}if(e,t){return o.if(this,e,t)}conditional(e,t){return o.if(this,e,t)}abs(){return o.abs(this)}neg(){return o.neg(this)}sign(){return o.sign(this)}round(){return o.round(this)}floor(){return o.floor(this)}ceil(){return o.ceil(this)}trunc(){return o.trunc(this)}add(e){return o.add(this,e)}sub(e){return o.sub(this,e)}mul(e){return o.mul(this,e)}div(e){return o.div(this,e)}recip(){return o.recip(this)}max(e){return o.max(this,e)}min(e){return o.min(this,e)}maxabs(e){return o.maxabs(this,e)}minabs(e){return o.minabs(this,e)}clamp(e,t){return o.clamp(this,e,t)}clampMin(e){return o.clampMin(this,e)}clampMax(e){return o.clampMax(this,e)}pLog10(){return o.pLog10(this)}absLog10(){return o.absLog10(this)}log10(){return o.log10(this)}log(e){return o.log(this,e)}log2(){return o.log2(this)}ln(){return o.ln(this)}pow(e){return o.pow(this,e)}pow10(){return o.pow10(this)}pow_base(e){return o.pow_base(this,e)}root(e){return o.root(this,e)}factorial(){return o.factorial(this)}gamma(){return o.gamma(this)}lngamma(){return o.lngamma(this)}exp(){return o.exp(this)}sqr(){return o.pow(this,2)}sqrt(){return o.root(this,2)}cube(){return o.pow(this,3)}cbrt(){return o.root(this,3)}tetrate(e=2,t=c.fromComponents_noNormalize(1,0,1)){return o.tetrate(this,e,t)}iteratedexp(e=2,t=c.fromComponents_noNormalize(1,0,1)){return o.iteratedexp(this,e,t)}iteratedlog(e=10,t=1){return o.iteratedlog(this,e,t)}slog(e=10){return o.slog(this,e)}layeradd10(e){return o.layeradd10(this,e)}layeradd(e,t){return o.layeradd(this,e,t)}lambertw(){return o.lambertw(this)}ssqrt(){return o.ssqrt(this)}pentate(e=2,t=c.fromComponents_noNormalize(1,0,1)){return o.pentate(this,e,t)}sin(){return o.sin(this)}cos(){return o.cos(this)}tan(){return o.tan(this)}asin(){return o.asin(this)}acos(){return o.acos(this)}atan(){return o.atan(this)}sinh(){return o.sinh(this)}cosh(){return o.cosh(this)}tanh(){return o.tanh(this)}asinh(){return o.asinh(this)}acosh(){return o.acosh(this)}atanh(){return o.atanh(this)}};M($,"negate",$.neg),M($,"negated",$.neg),M($,"sgn",$.sign),M($,"plus",$.add),M($,"subtract",$.sub),M($,"minus",$.sub),M($,"multiply",$.mul),M($,"times",$.mul),M($,"divide",$.div),M($,"divideBy",$.div),M($,"dividedBy",$.div),M($,"reciprocal",$.recip),M($,"reciprocate",$.recip),M($,"max",Be(c.max)),M($,"min",Be(c.min)),M($,"minabs",Be(c.minabs)),M($,"maxabs",Be(c.maxabs)),M($,"clampMin",Be(c.clampMin)),M($,"clampMax",Be(c.clampMax)),M($,"logarithm",$.log);let nt=$;class o extends nt{constructor(){super(...arguments);M(this,"integralFormula")}invert(t){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,t,...this.inputs):this.inputs.length===1&&this.hasVariable()?t:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(t){return this.isIntegrable()?this.getIntegralFormula().evaluate(t):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(t){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(t)}calculateConstantOfIntegration(){const t=this.getIntegralFormula().evaluate(1),i=c.add(this.evaluate(0),this.evaluate(1)).div(2);return c.sub(i,t)}getIntegralFormula(t){if(this.integralFormula!=null&&t==null)return this.integralFormula;if(t==null){if(this.applySubstitution==null){if(t=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),o.constant(0);let i=this.internalIntegrate.call(this,t,...this.inputs);t.forEach(r=>i=r(i)),this.integralFormula=i}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),o.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),o.constant(0)):(t.push(i=>this.applySubstitution.call(this,i,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,t,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,t,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),o.constant(0)))}}const qe=Symbol("PersistentState"),mt=Symbol("DefaultValue"),gt=Symbol("StackTrace"),Ct=Symbol("Deleted"),Pe=Symbol("NonPersistent"),Ve=Symbol("SaveDataPath"),Ht=Symbol("SkipPersistence");function _a(){var n;return((n=new Error().stack)==null?void 0:n.split(`
`).slice(3,5).map(e=>e.trim()).join(`
`))??""}function Yt(n,e){var t;c.isNaN(e)&&(Y.hasNaN||(E.autosave=!1,Y.hasNaN=!0,Y.NaNPath=n[Ve],Y.NaNPersistent=n),console.error(`Attempted to save NaN value to ${(t=n[Ve])==null?void 0:t.join(".")}`)),n[qe].value=e}function K(n,e=!0){const t=Ie(n)?n:A(n);Ie(n)&&(n=n.value);const i=R({get(){return t.value},set(a){e?Yt(r,a):r[qe].value=a}});i[mt]=n;const r={get value(){return t.value},set value(a){e?Yt(r,a):r[qe].value=a},__v_isRef:!0,[qe]:t,[mt]:n,[gt]:_a(),[Ct]:!1,[Pe]:i,[Ve]:void 0};return xe.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",r,`
Created at:
`+r[gt]):Ke[xe[xe.length-1]].add(r),r}function Ra(n){return n!=null&&typeof n=="object"&&qe in n}me.on("addLayer",(n,e)=>{const t=[],i=(r,a=[])=>{let d=!1;return Object.keys(r).forEach(u=>{let l=r[u];if(l!=null&&typeof l=="object"){if(Ht in l&&l[Ht]===!0)return;if(Re in l&&(l=l[Re]),Ra(l)){if(d=!0,l[Ct]){console.warn("Deleted persistent ref present in returned object. Ignoring...",l,`
Created at:
`+l[gt]);return}Ke[n.id].delete(l);const m=[n.id,...a,u];l[Ve]!=null&&JSON.stringify(m)!==JSON.stringify(l[Ve])&&console.error(`Persistent ref is being saved to \`${m.join(".")}\` when it's already present at \`${l[Ve].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),l[Ve]=m;const b=a.reduce((N,p)=>(p in N||(N[p]={}),N[p]),e),w=b[u];b[u]=l[qe],An(b)?w!=null?b[u]=w:b[u]=l[mt]:w!=null?b[u].value=w:b[u].value=l[mt]}else!(l instanceof c)&&!(l instanceof o)&&!Ie(l)&&!t.includes(l)&&(typeof l.type=="symbol"&&t.push(l),i(l,[...a,u])&&(Array.isArray(l)&&!Array.isArray(r)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",Re in r?r[Re]:r,u):d=!0))}}),d};i(n[Re]),Ke[n.id].forEach(r=>{r[Ct]||console.error(`Created persistent ref in "${n.id}" without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+r[gt])}),Ke[n.id].clear()});const mn=Symbol("RegisterNode"),gn=Symbol("UnregisterNode"),Va=Symbol("Nodes"),Da=Symbol("Bounds"),Q=kt({});window.layers=Q;const Ke={},xe=[];function Je(n,e){return zt(()=>{const t=Qt();xe.push(n),Ke[n]=new Set;const i={id:n,emitter:t,...t,nodes:A({}),minimized:K(!1,!1)},r=e(i),{color:a,display:d,classes:u,style:l,name:m,forceHideGoBack:b,minWidth:w,minimizable:N,minimizedDisplay:p,...P}=r;if(xe[xe.length-1]==null||xe[xe.length-1]!==n)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${xe}
Trying to pop ${n}`);xe.pop();const F=ue(l),H={...i,...P,color:ue(a),display:d,classes:ue(u),style:R(()=>{let T=h(H.minWidth);return(typeof T=="number"||!Number.isNaN(parseInt(T)))&&(T=T+"px"),{...h(F),...i.minimized.value?{flexGrow:"0",flexShrink:"0",width:"60px",minWidth:"",flexBasis:"",margin:"0"}:{flexGrow:"",flexShrink:"",width:"",minWidth:T,flexBasis:T,margin:""}}}),name:ue(m)??n,forceHideGoBack:ue(b),minWidth:ue(w)??100,minimizable:ue(N)??!0,minimizedDisplay:p};return H})}function La(n,e){if(console.info("Adding layer",n.id),Q[n.id]!=null){console.error("Attempted to add layer with same ID as existing layer",n.id,Q[n.id]);return}e.layers??(e.layers={}),e.layers[n.id]==null&&(e.layers[n.id]={}),Q[n.id]=n,me.emit("addLayer",n,e.layers[n.id])}function Ba(n){console.info("Removing layer",n.id),me.emit("removeLayer",n),delete Q[n.id]}me.on("update",function(e){Object.values(Q).forEach(t=>{t==null||t.emit("preUpdate",e)}),Object.values(Q).forEach(t=>{t==null||t.emit("update",e)}),Object.values(Q).forEach(t=>{t==null||t.emit("postUpdate",e)})});function Ua(n,e="points",t=0,i=void 0){const r=Ie(n)?n:K(n);if(r.displayName=e,r.precision=t,r.small=i,!Ie(n)){const a=r[Pe];a.displayName=e,a.precision=t,a.small=i}return r}function qa(n){const e=K(n.value);return ie(n,t=>{pt.value||c.gt(t,e.value)&&(e.value=t)}),e}function Ga(n){const e=K(n.value);return ie(n,(t,i)=>{pt.value||c.gt(t,i)&&(e.value=c.add(e.value,c.sub(t,i)))}),e}new c("10^^8");new c("1e100");let Wa=0;function Ha(n="feature-"){return n+Wa++}function Ya(n){const e=h(n);return e!==2&&e!==!1}function Ja(n){return h(n)===1}const ja=X({__name:"Node",props:{id:{}},setup(n){const e=n,t=Dt(mn,()=>{}),i=Dt(gn,()=>{}),r=Kt(null),a=R(()=>r.value&&r.value.parentElement);return ie([a,Le(e,"id")],([d,u],[l,m])=>{l&&i(h(m)),d&&t(u,d)}),Xt(()=>i(e.id)),(d,u)=>(C(),k("div",{class:"node",ref_key:"node",ref:r},null,512))}}),Za=ne(ja,[["__scopeId","data-v-4673aca5"]]),Ka=X({__name:"VueFeature",props:{id:{},components:{},wrappers:{},visibility:{default:!0},style:{default:()=>({})},classes:{default:()=>({})}},setup(n){const e=n,t=()=>e.wrappers.reduce((i,r)=>()=>r(i),()=>s(re,null,[e.components.map(i=>de(i))]))();return(i,r)=>h(Ya)(h(i.visibility))?(C(),k("div",{key:0,style:ze([{visibility:h(Ja)(h(i.visibility))?"hidden":void 0},h(i.style)]),class:se({feature:!0,...h(i.classes)})},[s(t),s(Za,{id:i.id},null,8,["id"])],6)):D("",!0)}}),fn=Symbol("VueFeature");function pn(n,e,t){return{id:Ha(n),visibility:ue(e.visibility),classes:ue(e.classes),style:ue(e.style),components:t==null?[]:[t],wrappers:[],[fn]:!0}}function de(n,e){if(typeof n=="object"&&fn in n){const{id:t,visibility:i,style:r,classes:a,components:d,wrappers:u}=n;return s(Ka,{id:t,visibility:i,style:r,classes:a,components:d,wrappers:u},null)}return n=On(n),(e==null?void 0:e(n))??n}function Xa(n){return n!=null&&typeof n=="object"&&"type"in n&&"children"in n}function hn(n){const e=A(null),t=A(void 0);function i(d){e.value==null&&(e.value=setInterval(a,250)),t.value=d}function r(){e.value!=null&&(clearInterval(e.value),e.value=null)}function a(){n(t.value)}return Xt(r),{start:i,stop:r,handleHolding:a}}const Qa=["disabled"],eo=X({__name:"Clickable",props:{canClick:{},display:{}},emits:["click","hold"],setup(n,{emit:e}){const t=n,i=e,r=()=>t.display==null?s(re,null,null):de(t.display),{start:a,stop:d}=hn(()=>i("hold"));return(u,l)=>(C(),k("button",{onClick:l[0]||(l[0]=m=>i("click",m)),onMousedown:l[1]||(l[1]=(...m)=>h(a)&&h(a)(...m)),onMouseleave:l[2]||(l[2]=(...m)=>h(d)&&h(d)(...m)),onMouseup:l[3]||(l[3]=(...m)=>h(d)&&h(d)(...m)),onTouchstartPassive:l[4]||(l[4]=(...m)=>h(a)&&h(a)(...m)),onTouchendPassive:l[5]||(l[5]=(...m)=>h(d)&&h(d)(...m)),onTouchcancelPassive:l[6]||(l[6]=(...m)=>h(d)&&h(d)(...m)),class:se({clickable:!0,can:h(u.canClick),locked:!h(u.canClick)}),disabled:!h(u.canClick)},[s(r)],42,Qa))}}),to=ne(eo,[["__scopeId","data-v-396784a5"]]),no=Symbol("Clickable");function wt(n){return zt(()=>{const e=(n==null?void 0:n())??{},{canClick:t,display:i,onClick:r,onHold:a,...d}=e;let u;typeof i=="object"&&!Xa(i)?u=()=>s("span",null,[i.title!=null?s("div",null,[de(i.title,m=>s("h3",null,[m]))]):null,de(i.description,m=>s("div",null,[m]))]):i!=null&&(u=i);const l={type:no,...d,...pn("clickable",e,()=>s(to,{canClick:l.canClick,onClick:l.onClick,onHold:l.onClick,display:l.display},null)),canClick:ue(t)??!0,display:u,onClick:r==null?void 0:function(m){h(l.canClick)!==!1&&r.call(l,m)},onHold:a==null?void 0:function(){h(l.canClick)!==!1&&a.call(l)}};return l})}const io=X({__name:"TreeNode",props:{canClick:{},display:{},color:{},glowColor:{}},emits:["click","hold"],setup(n,{emit:e}){const t=n,i=e,r=()=>t.display==null?s(re,null,null):de(t.display,u=>s("div",null,[u])),{start:a,stop:d}=hn(()=>i("hold"));return(u,l)=>(C(),k("button",{style:ze({backgroundColor:h(u.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${h(u.glowColor)}`}),class:se({treeNode:!0,can:h(u.canClick)}),onClick:l[0]||(l[0]=m=>i("click",m)),onMousedown:l[1]||(l[1]=(...m)=>h(a)&&h(a)(...m)),onMouseleave:l[2]||(l[2]=(...m)=>h(d)&&h(d)(...m)),onMouseup:l[3]||(l[3]=(...m)=>h(d)&&h(d)(...m)),onTouchstartPassive:l[4]||(l[4]=(...m)=>h(a)&&h(a)(...m)),onTouchendPassive:l[5]||(l[5]=(...m)=>h(d)&&h(d)(...m)),onTouchcancelPassive:l[6]||(l[6]=(...m)=>h(d)&&h(d)(...m))},[s(r)],38))}}),ro=ne(io,[["__scopeId","data-v-80b5b7b8"]]),ao=Symbol("TreeNode");function oo(n){return zt(()=>{const e=(n==null?void 0:n())??{},{canClick:t,color:i,display:r,glowColor:a,onClick:d,onHold:u,...l}=e,m={type:ao,...l,...pn("treeNode",e,()=>s(ro,{canClick:m.canClick,display:m.display,onClick:m.onClick,onHold:m.onHold,color:m.color,glowColor:m.glowColor},null)),canClick:ue(t)??!0,color:ue(i),display:r,glowColor:ue(a),onClick:d==null?void 0:function(b){h(m.canClick)!==!1&&d.call(m,b)},onHold:u==null?void 0:function(){h(m.canClick)!==!1&&u.call(m)}};return m})}const so={key:0,class:"material-icons pinned"},lo=X({__name:"Tooltip",props:{pinned:{},display:{},style:{},classes:{},direction:{},xoffset:{},yoffset:{}},setup(n){const e=n,t=A(!1),i=R(()=>{var u;return((u=e.pinned)==null?void 0:u.value)===!0||t.value}),r=()=>de(e.display);function a(u){const l=e.pinned;u.shiftKey&&l!=null&&(l.value=!l.value,u.stopPropagation(),u.preventDefault())}const d=R(()=>{var u;return((u=e.pinned)==null?void 0:u.value)===!0&&Pt[j.theme].showPin});return(u,l)=>(C(),k("div",{class:se(["tooltip-container",{shown:i.value}]),onMouseenter:l[0]||(l[0]=m=>t.value=!0),onMouseleave:l[1]||(l[1]=m=>t.value=!1),onClickCapture:a},[De(u.$slots,"default",{},void 0,!0),s(Zt,{name:"fade"},{default:W(()=>[i.value?(C(),k("div",{key:0,class:se(["tooltip",{top:h(u.direction)===h(ce).Up,left:h(u.direction)===h(ce).Left,right:h(u.direction)===h(ce).Right,bottom:h(u.direction)===h(ce).Down,...h(u.classes)}]),style:ze([{"--xoffset":h(u.xoffset)||"0px","--yoffset":h(u.yoffset)||"0px"},h(u.style)??{}])},[d.value?(C(),k("span",so,"push_pin")):D("",!0),s(r)],6)):D("",!0)]),_:1})],34))}}),we=ne(lo,[["__scopeId","data-v-ad4ea959"]]),uo={class:"field"},co=X({__name:"Toggle",props:{title:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,i=e,r=()=>de(t.title??"",d=>s("span",null,[d])),a=R({get(){return!!t.modelValue},set(d){i("update:modelValue",d)}});return(d,u)=>(C(),k("label",uo,[Tt(x("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":u[0]||(u[0]=l=>a.value=l)},null,512),[[$n,a.value]]),s(r)]))}}),Me=ne(co,[["__scopeId","data-v-faad62a6"]]),mo={class:"header"},go={class:"option-tabs"},fo={key:0},po={style:{"margin-top":"20px"}},ho=X({__name:"Options",setup(n,{expose:e}){const t=A(!1),i=A("behaviour");function r(Z){return Z==i.value}function a(Z){i.value=Z}function d(){confirm("Are you sure you want to reset the game? This will delete ALL progress and cannot be undone!")&&(localStorage.clear(),window.location.reload())}e({isTab:r,setTab:a,save:le,confirmReset:d,open(){t.value=!0}}),Object.keys(Pt).map(Z=>({label:sr(Z),value:Z}));const{showTPS:u,theme:l,unthrottled:m,alignUnits:b,showHealthWarning:w}=Lt(j),{autosave:N,offlineProd:p}=Lt(E),P=R({get(){return E.devSpeed===0},set(Z){E.devSpeed=Z?0:null}}),F=s("span",{class:"option-title"},[f("Unthrottled"),s("desc",null,[f("Allow the game to run as fast as possible. Not battery friendly.")])]),H=s("span",{class:"option-title"},[f("Offline production"),s(we,{display:"Save-specific",direction:ce.Right},{default:()=>[f("*")]}),s("desc",null,[f("Simulate production that occurs while the game is closed.")])]),T=s("span",{class:"option-title"},[f("Show videogame addiction warning"),s("desc",null,[f("Show a helpful warning after playing for a long time about video game addiction and encouraging you to take a break.")])]),z=s("span",{class:"option-title"},[f("Autosave"),s(we,{display:"Save-specific",direction:ce.Right},{default:()=>[f("*")]}),s("desc",null,[f("Automatically save the game every second or when the game is closed.")])]),V=s("span",{class:"option-title"},[f("Pause game"),s(we,{display:"Save-specific",direction:ce.Right},{default:()=>[f("*")]}),s("desc",null,[f("Stop everything from moving.")])]);return s("span",{class:"option-title"},[f("Theme"),s("desc",null,[f("How the game looks.")])]),s("span",{class:"option-title"},[f("Show TPS"),s("desc",null,[f("Show TPS meter at the bottom-left corner of the page.")])]),s("span",{class:"option-title"},[f("Align modifier units"),s("desc",null,[f("Align numbers to the beginning of the unit in modifier view.")])]),(Z,O)=>(C(),ae(Ye,{modelValue:t.value,"onUpdate:modelValue":O[8]||(O[8]=oe=>t.value=oe)},{header:W(()=>[x("div",mo,[O[9]||(O[9]=x("h2",null,"Settings",-1)),x("div",go,[x("button",{class:se({selected:r("behaviour")}),onClick:O[0]||(O[0]=oe=>a("behaviour"))},"Behaviour",2)])])]),body:W(()=>[r("behaviour")?(C(),k("div",fo,[s(Me,{title:h(F),modelValue:h(m),"onUpdate:modelValue":O[1]||(O[1]=oe=>Ie(m)?m.value=oe:null)},null,8,["title","modelValue"]),h(G).enablePausing?(C(),ae(Me,{key:0,title:h(V),modelValue:P.value,"onUpdate:modelValue":O[2]||(O[2]=oe=>P.value=oe)},null,8,["title","modelValue"])):D("",!0),s(Me,{title:h(H),modelValue:h(p),"onUpdate:modelValue":O[3]||(O[3]=oe=>Ie(p)?p.value=oe:null)},null,8,["title","modelValue"]),h(G).disableHealthWarning?D("",!0):(C(),ae(Me,{key:1,title:h(T),modelValue:h(w),"onUpdate:modelValue":O[4]||(O[4]=oe=>Ie(w)?w.value=oe:null)},null,8,["title","modelValue"])),s(Me,{title:h(z),modelValue:h(N),"onUpdate:modelValue":O[5]||(O[5]=oe=>Ie(N)?N.value=oe:null)},null,8,["title","modelValue"]),h(N)?D("",!0):(C(),ae(ct,{key:2,class:"button save-button",onClick:O[6]||(O[6]=oe=>h(le)())},{default:W(()=>O[10]||(O[10]=[f("Manually save")])),_:1})),O[13]||(O[13]=x("hr",{style:{margin:"20px 0"}},null,-1)),x("div",po,[s(ct,{class:"button danger-button",onClick:O[7]||(O[7]=oe=>d())},{default:W(()=>O[11]||(O[11]=[f("Reset Game")])),_:1}),O[12]||(O[12]=x("p",{style:{"font-size":"12px",opacity:"0.7","margin-top":"10px"}},"This will delete all progress and start over from the beginning.",-1))])])):D("",!0)]),_:1},8,["modelValue"]))}}),q={WIN_AMOUNT:1e4,STARTING_MONEY:10,STARTING_DRIVERS:1,STARTING_PIZZAS:["cheese"],STARTING_GPUS:1,CHAPTER_1_TRIGGER:101,CHAPTER_2_TRIGGER:1e3,CHAPTER_3_TRIGGER:2e3,CHAPTER_4_TRIGGER:3e3,JOB_GENERATION_INTERVAL:3,AUTO_JOB_LIMIT:4,INITIAL_JOBS_COUNT:3,JOB_DURATION_MIN:10,JOB_DURATION_MAX:30,JOB_PAYOUT_MIN:10,JOB_PAYOUT_MAX:40,DRIVER_BASE_COST:20,DRIVER_COST_MULTIPLIER:1.5,GPU_BASE_COST:50,GPU_COST_MULTIPLIER:1.5,CHAPTER_1_QUALITY_BONUS:50,CHAPTER_1_SPEED_BONUS:20,INTRO_BONUS_DRIVERS:1,INTRO_BONUS_PIZZA:"pepperoni"},Nt=[{id:"cheese",displayName:"Cheese",description:"Basic cheese pizza delivery",chapter:1,prereq:[],unlockCost:[],payout:[{type:"money",min:10,max:50}],duration:{min:2,max:3},category:"pizza",cost:[{type:"compute",value:1}]},{id:"pepperoni",displayName:"Pepperoni",description:"Classic pepperoni pizza delivery",chapter:1,prereq:[{type:"job",value:"cheese"},{type:"money",value:40}],unlockCost:[{type:"money",value:50}],payout:[{type:"money",min:20,max:100}],duration:{min:10,max:20},category:"pizza",cost:[{type:"compute",value:1}]},{id:"supreme",displayName:"Supreme",description:"Supreme pizza with all the toppings",chapter:1,prereq:[{type:"job",value:"pepperoni"}],unlockCost:[{type:"money",value:150}],payout:[{type:"money",min:30,max:150}],duration:{min:10,max:40},category:"pizza",cost:[{type:"compute",value:2}]},{id:"hawaiian",displayName:"Hawaiian",description:"Pineapple and ham pizza delivery",chapter:1,prereq:[{type:"job",value:"supreme"},{type:"money",value:300}],unlockCost:[{type:"money",value:400}],payout:[{type:"money",min:40,max:200}],duration:{min:10,max:40},category:"pizza",cost:[{type:"compute",value:2}]},{id:"meat_lovers",displayName:"Meat Lovers",description:"Premium meat lovers pizza delivery",chapter:1,prereq:[{type:"job",value:"hawaiian"}],unlockCost:[{type:"money",value:1e3}],payout:[{type:"money",min:50,max:250}],duration:{min:10,max:40},category:"pizza",cost:[{type:"compute",value:3}]}],vo=["Alex","Blake","Casey","Drew","Eli","Frankie","Gray","Harper","Izzy","Jordan","Kelly","Logan","Morgan","Nico","Ollie","Parker","Quinn","Riley","Sage","Taylor","Avery","Bailey","Cameron","Dakota","Emerson","Finley","Hayden","Jamie","Kendall","Lane","Marley","Noel","Oakley","Peyton","Reese","Rowan","Sawyer","Skyler","Spencer","Sydney","Tatum","Tyler","Val","Wesley","Winter","Yael","Zion","River","Phoenix","Sage"],bo="main",yo=Je(bo,function(){const n="Pizza Delivery",e="#FFA500",t=A(null),i=Ua(q.STARTING_MONEY,"dollars"),r=qa(i),a=Ga(i),d=K(q.STARTING_GPUS),u=K(1),l=K([]);function m(){const y=new Set(l.value.map(L=>L.name)),S=vo.filter(L=>!y.has(L));return S.length===0?`Driver ${u.value}`:S[Math.floor(Math.random()*S.length)]}function b(){const y=u.value;return u.value=u.value+1,{id:y,name:m(),status:"available",lastAvailableTime:Date.now()}}function w(y){return Nt.find(S=>S.id===y)}function N(y){return y.type==="job"?P.value.includes(y.value):y.type==="money"?c.gte(i.value,y.value):!0}function p(y){return y.prereq.every(S=>N(S))}const P=K([...q.STARTING_PIZZAS]),F=K(!1),H=K(!1),T=K(0),z=K(0),V=K(!1),Z=R(()=>{const y=new Set(ge.value.map(S=>S.driverId));return l.value.filter(S=>!y.has(S.id)).sort((S,L)=>S.lastAvailableTime-L.lastAvailableTime)}),O=R(()=>{const y=ge.value.reduce((S,L)=>{var fe,Ae;const B=w(L.jobTypeId),ee=((Ae=(fe=B==null?void 0:B.cost)==null?void 0:fe.find(bt=>bt.type==="compute"))==null?void 0:Ae.value)||0;return S+ee},0);return d.value-y}),oe=R(()=>{var y,S;return((S=(y=Q.intro)==null?void 0:y.playerChoice)==null?void 0:S.value)||""}),ht=R(()=>{var y,S;return((S=(y=Q.intro)==null?void 0:y.introComplete)==null?void 0:S.value)||!1});ie([ht,oe],([y,S])=>{if(!V.value){console.log("Initializing starting drivers, nextDriverId:",u.value);const L=[];for(let B=0;B<q.STARTING_DRIVERS;B++){const ee=b();console.log("Created starting driver:",ee),L.push(ee)}l.value=L,console.log("After init, nextDriverId is now:",u.value),V.value=!0}if(y&&!F.value&&S){if(S==="hire_driver"){console.log("Applying intro bonus driver, nextDriverId:",u.value);const L=[];for(let B=0;B<q.INTRO_BONUS_DRIVERS;B++){const ee=b();console.log("Created intro bonus driver:",ee),L.push(ee)}l.value=[...l.value,...L],console.log("After intro bonus, all drivers:",l.value)}else S==="buy_ingredients"&&(P.value.includes(q.INTRO_BONUS_PIZZA)||P.value.push(q.INTRO_BONUS_PIZZA));F.value=!0}},{immediate:!0});const Ft=R(()=>{var y,S;return((S=(y=Q.chapter1)==null?void 0:y.playerChoice)==null?void 0:S.value)||""}),At=R(()=>{var y,S;return((S=(y=Q.chapter1)==null?void 0:y.complete)==null?void 0:S.value)||!1}),xn=R(()=>c.gte(i.value,q.CHAPTER_1_TRIGGER)&&!At.value);ie(xn,y=>{y&&(player.tabs=["chapter1"])},{immediate:!0}),ie([At,Ft],([y,S])=>{y&&!H.value&&S&&(S==="quality"?T.value=q.CHAPTER_1_QUALITY_BONUS:S==="speed"&&(z.value=q.CHAPTER_1_SPEED_BONUS),H.value=!0)},{immediate:!0});const wn=R(()=>{var y,S;return((S=(y=Q.chapter2)==null?void 0:y.complete)==null?void 0:S.value)||!1}),Nn=R(()=>c.gte(i.value,q.CHAPTER_2_TRIGGER)&&!wn.value);ie(Nn,y=>{y&&(player.tabs=["chapter2"])},{immediate:!0});const Cn=R(()=>{var y,S;return((S=(y=Q.chapter3)==null?void 0:y.complete)==null?void 0:S.value)||!1}),In=R(()=>c.gte(i.value,q.CHAPTER_3_TRIGGER)&&!Cn.value);ie(In,y=>{y&&(player.tabs=["chapter3"])},{immediate:!0});const Sn=R(()=>{var y,S;return((S=(y=Q.chapter4)==null?void 0:y.complete)==null?void 0:S.value)||!1}),kn=R(()=>c.gte(i.value,q.CHAPTER_4_TRIGGER)&&!Sn.value);ie(kn,y=>{y&&(player.tabs=["chapter4"])},{immediate:!0});const pe=K([]),ge=K([]),Ot=K(0),ot=K(0);function $t(){const y=Nt.filter(fe=>P.value.includes(fe.id));if(y.length===0)throw new Error("No unlocked job types available!");const S=y[Math.floor(Math.random()*y.length)];let L=S.duration?S.duration.min+Math.floor(Math.random()*(S.duration.max-S.duration.min+1)):20;z.value>0&&(L=Math.floor(L*(1-z.value/100)));const B=S.payout[0];let ee=B.min+Math.floor(Math.random()*(B.max-B.min+1));return T.value>0&&(ee=Math.floor(ee*(1+T.value/100))),{id:Ot.value++,duration:L,jobTypeId:S.id,payout:ee}}const _t=wt(()=>({display:{title:"Hire Driver",description:()=>s(re,null,[f("Cost: $"),Ce(c.pow(q.DRIVER_COST_MULTIPLIER,l.value.length).times(q.DRIVER_BASE_COST)),s("br",null,null),f("Drivers: "),l.value.length])},canClick:()=>c.gte(i.value,c.pow(q.DRIVER_COST_MULTIPLIER,l.value.length).times(q.DRIVER_BASE_COST)),onClick(){i.value=c.sub(i.value,c.pow(q.DRIVER_COST_MULTIPLIER,l.value.length).times(q.DRIVER_BASE_COST));const y=b();console.log("Hiring driver:",y,"nextDriverId now:",u.value),l.value=[...l.value,y]},style:{minHeight:"100px",width:"160px",minWidth:"140px",maxWidth:"180px",flex:"1 1 160px"}})),Rt=wt(()=>({display:{title:"Buy GPU",description:()=>s(re,null,[f("Cost: $"),Ce(c.pow(q.GPU_COST_MULTIPLIER,d.value-q.STARTING_GPUS).times(q.GPU_BASE_COST)),s("br",null,null),f("GPUs: "),d.value])},canClick:()=>c.gte(i.value,c.pow(q.GPU_COST_MULTIPLIER,d.value-q.STARTING_GPUS).times(q.GPU_BASE_COST)),onClick(){i.value=c.sub(i.value,c.pow(q.GPU_COST_MULTIPLIER,d.value-q.STARTING_GPUS).times(q.GPU_BASE_COST)),d.value=d.value+1},style:{minHeight:"100px",width:"160px",minWidth:"140px",maxWidth:"180px",flex:"1 1 160px"}})),Vt=Nt.filter(y=>y.unlockCost.length>0).map(y=>{var L;const S=((L=y.unlockCost.find(B=>B.type==="money"))==null?void 0:L.value)||0;return wt(()=>({display:{title:`Unlock ${y.displayName}`,description:s(re,null,[f("Cost: $"),S,s("br",null,null),f("Unlock "),y.displayName,f(" "),y.category,f(" jobs")])},canClick:()=>{const B=c.gte(i.value,S),ee=!P.value.includes(y.id),fe=p(y);return B&&ee&&fe},onClick(){i.value=c.sub(i.value,S),P.value.push(y.id)},visibility:()=>!P.value.includes(y.id)&&p(y),style:{minHeight:"100px",width:"160px",minWidth:"140px",maxWidth:"180px",flex:"1 1 160px"}}))});me.on("update",y=>{var L;const S=Q.intro;if(!(S&&!((L=S.introComplete)!=null&&L.value))){for(let B=ge.value.length-1;B>=0;B--)if(ge.value[B].timeRemaining-=y,ge.value[B].timeRemaining<=0){const ee=ge.value[B];i.value=c.add(i.value,ee.payout);const fe=l.value.findIndex(Ae=>Ae.id===ee.driverId);fe!==-1&&(l.value=l.value.map((Ae,bt)=>bt===fe?{...Ae,lastAvailableTime:Date.now()}:Ae)),ge.value.splice(B,1)}if(ot.value+=y,ot.value>=q.JOB_GENERATION_INTERVAL&&(ot.value=0,pe.value.length<=q.AUTO_JOB_LIMIT&&pe.value.push($t())),pe.value.length===0&&ge.value.length===0)for(let B=0;B<q.INITIAL_JOBS_COUNT;B++)pe.value.push($t())}});function Tn(y){const S=Z.value[0];if(!S)return;const L=S.id;pe.value=pe.value.filter(B=>B.id!==y.id),ge.value.push({...y,timeRemaining:y.duration,driverId:L})}function Mn(y){pe.value=pe.value.filter(S=>S.id!==y)}function vt(y){var B,ee;if(Z.value.length<=0||!P.value.includes(y.jobTypeId))return!1;const S=w(y.jobTypeId),L=((ee=(B=S==null?void 0:S.cost)==null?void 0:B.find(fe=>fe.type==="compute"))==null?void 0:ee.value)||0;return!(O.value<L)}return{name:n,color:e,money:i,best:r,total:a,unlockedJobTypes:P,drivers:l,nextDriverId:u,driversInitialized:V,introBonusApplied:F,chapter1BonusApplied:H,qualityBonus:T,speedBonus:z,jobQueue:pe,activeDeliveries:ge,nextJobId:Ot,timeSinceLastJob:ot,gpusOwned:d,availableGPUs:O,hireDriverClickable:_t,buyGPUClickable:Rt,pizzaUnlockClickables:Vt,display:()=>s("div",{style:"padding: 0 5px;"},[s("div",{style:"margin: 15px 0; padding: 12px; border: 2px solid #FFA500; border-radius: 10px; background: #fff3e0;"},[s("div",{style:"font-size: 16px;"},[s("strong",null,[f("Money:")]),f(" $"),Ce(i.value)]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("Drivers:")]),f(" "),Z.value.length,f(" / "),l.value.length,f(" available")]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("GPUs:")]),f(" "),O.value,f(" / "),d.value,f(" available")]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("Unlocked Pizzas:")]),f(" "),P.value.map(y=>{var S;return((S=w(y))==null?void 0:S.displayName)||y}).join(", ")])]),s("div",{style:"margin: 15px 0;"},[s("div",{style:"display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;"},[de(_t),de(Rt),Vt.map(y=>de(y))])]),s("div",{style:"margin: 15px 0; padding: 12px; border: 2px solid #2196F3; border-radius: 10px; background: #e3f2fd;"},[s("h3",null,[f("Active Deliveries ("),ge.value.length,f(")")]),ge.value.length===0?s("p",{style:"font-style: italic;"},[f("No active deliveries")]):ge.value.map(y=>{const S=l.value.find(B=>B.id===y.driverId),L=w(y.jobTypeId);return s("div",{key:y.id,style:"margin: 10px 0; padding: 8px; background: white; border-radius: 5px; border: 1px solid #ddd;"},[s("div",{style:"font-size: 14px;"},[s("strong",null,[f("🚗 "),(S==null?void 0:S.name)||`Driver #${y.driverId}`,f(":")]),f(" Delivering "),(L==null?void 0:L.displayName)||y.jobTypeId,f(" pizza")]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("⏱️ Time:")]),f(" "),Math.ceil(y.timeRemaining),f("s")]),s("div",{style:"color: #2e7d32; font-size: 14px;"},[s("strong",null,[f("💰 Earn:")]),f(" $"),Ce(y.payout)])])})]),s("div",{style:"margin: 15px 0; padding: 12px; border: 2px solid #4CAF50; border-radius: 10px; background: #e8f5e9;"},[s("h3",null,[f("Available Jobs ("),pe.value.length,f(")")]),pe.value.length===0?s("p",{style:"font-style: italic;"},[f("No jobs available. New jobs arrive every 60 seconds.")]):pe.value.map(y=>{var B,ee;const S=w(y.jobTypeId),L=((ee=(B=S==null?void 0:S.cost)==null?void 0:B.find(fe=>fe.type==="compute"))==null?void 0:ee.value)||0;return s("div",{key:y.id,style:"margin: 10px 0; padding: 8px; background: white; border-radius: 5px; border: 1px solid #ddd;"},[s("div",{style:"font-size: 14px;"},[s("strong",null,[f("Pizza:")]),f(" "),(S==null?void 0:S.displayName)||y.jobTypeId]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("Duration:")]),f(" "),y.duration,f("s")]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("Payout:")]),f(" $"),Ce(y.payout)]),s("div",{style:"font-size: 14px;"},[s("strong",null,[f("Compute:")]),f(" "),L,f(" GPU"),L!==1?"s":""]),s("div",{style:"margin-top: 8px; display: flex; gap: 5px;"},[s("button",{onClick:()=>Tn(y),disabled:!vt(y),style:{background:vt(y)?"#4CAF50":"#ccc",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:vt(y)?"pointer":"not-allowed",fontSize:"13px"}},[f("Accept")]),s("button",{onClick:()=>Mn(y.id),style:{background:"#f44336",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"}},[f("Decline")])]),!P.value.includes(y.jobTypeId)&&s("div",{style:"margin-top: 5px; color: #d32f2f; font-weight: bold; font-size: 12px;"},[f("⚠ Need "),(S==null?void 0:S.displayName)||y.jobTypeId,f("!")]),Z.value.length<=0&&P.value.includes(y.jobTypeId)&&O.value>=L&&s("div",{style:"margin-top: 5px; color: #d32f2f; font-weight: bold; font-size: 12px;"},[f("⚠ No drivers!")]),O.value<L&&P.value.includes(y.jobTypeId)&&s("div",{style:"margin-top: 5px; color: #d32f2f; font-weight: bold; font-size: 12px;"},[f("⚠ Need "),L,f(" GPU"),L!==1?"s":"",f("!")])])})]),c.gte(i.value,q.WIN_AMOUNT)&&s("div",{style:"margin: 15px 0; padding: 20px; background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); border-radius: 10px; text-align: center; border: 3px solid #ff6f00; box-shadow: 0 4px 8px rgba(0,0,0,0.2);"},[s("h1",{style:"font-size: 32px; margin: 0;"},[f("🎉 YOU WIN! 🎉")]),s("p",{style:"font-size: 18px; margin: 10px 0;"},[f("You've earned $"),Ce(q.WIN_AMOUNT),f("!")]),s("p",{style:"font-size: 14px;"},[f("You've built a successful pizza delivery empire!")])]),s("button",{onClick:()=>{var y;return(y=t.value)==null?void 0:y.open()},style:{position:"fixed",bottom:"20px",left:"20px",background:"var(--raised-background)",border:"2px solid var(--outline)",borderRadius:"50%",cursor:"pointer",fontSize:"32px",color:"var(--foreground)",padding:"10px",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:1e3},title:"Settings"},[f("⚙️")]),s(ho,{ref:t},null)]),treeNode:oo(()=>({display:n,color:e}))}}),xo="intro",wo=Je(xo,function(){const n="Introduction",e="#FFA500",t=K(!1),i=K("",!1),r=A(0),a=[{title:"Welcome to Pizza Delivery Empire!",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You've just inherited a small pizza shop from your uncle. The shop is modest, but it has potential!")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your uncle left you $10 to get started, and you have one delivery driver ready to work.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your dream is to build a pizza delivery empire and reach "),s("strong",null,[f("$1,000,000")]),f("in earnings. Let's get started!")])])},{title:"A Lucky Break",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("While cleaning the shop, you find an envelope behind the cash register.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Inside is some extra money your uncle saved! You have a choice:")]),s("p",{style:"font-size: 16px; margin-bottom: 30px; font-style: italic;"},[f("What will you invest in?")])]),choices:[{id:"hire_driver",text:"Hire an Extra Driver",description:"Start with 2 drivers instead of 1",effect:"bonusDrivers"},{id:"buy_ingredients",text:"Buy Premium Ingredients",description:"Start with Pepperoni pizza unlocked",effect:"bonusPizzas"}]},{title:"Ready to Begin!",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your first customer is calling right now with an order!")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Time to start your journey to pizza empire greatness. Good luck!")])])}];function d(b){i.value=b,r.value++}function u(){t.value=!0,E.tabs=["main"]}function l(){r.value++,r.value>=a.length&&u()}return{name:n,color:e,display:()=>{const b=a[r.value];if(!b)return u(),null;const w=b.choices&&b.choices.length>0,N=r.value===a.length-1;return s("div",null,[s("h2",{style:"color: #FFA500; font-size: 32px; margin-bottom: 30px;"},[b.title]),s("div",{style:"margin: 20px 0; padding: 30px; border: 2px solid #FFA500; border-radius: 10px; background: #fff3e0;"},[b.content]),s("div",{style:"margin: 30px 0; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"},[w?b.choices.map(p=>s("div",{key:p.id,style:"text-align: center;"},[s("button",{onClick:()=>d(p.id),style:{background:"#4CAF50",color:"white",padding:"15px 30px",fontSize:"18px",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"200px",fontWeight:"bold"}},[p.text]),s("p",{style:"font-size: 14px; margin-top: 10px; color: #666;"},[p.description])])):s("button",{onClick:l,style:{background:N?"#FF6F00":"#2196F3",color:"white",padding:"15px 40px",fontSize:"20px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"}},[N?"Start Game!":"Continue"])]),s("div",{style:"margin-top: 40px; font-size: 14px; color: #666;"},[f("Page "),r.value+1,f(" of "),a.length])])},introComplete:t,playerChoice:i,currentPage:r}}),No="chapter1",Co=Je(No,function(){const n="Chapter 1: The Competitor",e="#FFA500",t=K(!1),i=K("",!1),r=A(0),a=[{title:"A Rival Appears",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your pizza business is off to a great start! You've made over $100 already.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("But success attracts attention...")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("A flashy new pizza place just opened across the street: "),s("strong",null,[f(`"Tony's Speedy Pizza"`)]),f(". They're advertising lightning-fast delivery and rock-bottom prices.")])])},{title:"The Challenge",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Tony walks into your shop with a smug grin.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #d32f2f;"},[f(`"Nice little operation you got here. Too bad I'm about to put you out of business. My pizzas are cheaper AND faster!"`)]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You notice customers starting to glance at Tony's flashy storefront...")])])},{title:"Your Response",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You need to respond to this competition. How will you compete?")]),s("p",{style:"font-size: 16px; margin-bottom: 30px; font-style: italic;"},[f("Choose your strategy:")])]),choices:[{id:"quality",text:"Focus on Quality",description:`Higher payouts per delivery (+${q.CHAPTER_1_QUALITY_BONUS}% earnings)`,effect:"qualityBonus"},{id:"speed",text:"Focus on Speed",description:`Faster delivery times (-${q.CHAPTER_1_SPEED_BONUS}% delivery duration)`,effect:"speedBonus"}]},{title:"Putting the Plan into Action",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You implement your new strategy with determination.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Word starts spreading through the neighborhood about your commitment to excellence. Customers appreciate the extra effort you're putting in.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Tony's shop is still busy, but you're holding your own.")])])},{title:"First Round to You",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your new strategy is working! Customers are choosing your shop over Tony's more often.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("One evening, Tony storms into your shop, red-faced and frustrated.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #d32f2f;"},[f(`"You got lucky this time," he growls. "But this isn't over. Not by a long shot!"`)]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("He storms out, and you can see through the window that Tony's Speedy Pizza is still open for business.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-weight: bold;"},[f("The rivalry continues...")])])}];function d(b){i.value=b,r.value++}function u(){t.value=!0,E.tabs=["main"]}function l(){r.value++,r.value>=a.length&&u()}return{name:n,color:e,display:()=>{const b=a[r.value];if(!b)return u(),null;const w=b.choices&&b.choices.length>0,N=r.value===a.length-1;return s("div",null,[s("h2",{style:"color: #FFA500; font-size: 32px; margin-bottom: 30px;"},[b.title]),s("div",{style:"margin: 20px 0; padding: 30px; border: 2px solid #FFA500; border-radius: 10px; background: #fff3e0;"},[b.content]),s("div",{style:"margin: 30px 0; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"},[w?b.choices.map(p=>s("div",{key:p.id,style:"text-align: center;"},[s("button",{onClick:()=>d(p.id),style:{background:p.id==="quality"?"#4CAF50":"#2196F3",color:"white",padding:"15px 30px",fontSize:"18px",border:"none",borderRadius:"8px",cursor:"pointer",minWidth:"200px",fontWeight:"bold"}},[p.text]),s("p",{style:"font-size: 14px; margin-top: 10px; color: #666;"},[p.description])])):s("button",{onClick:l,style:{background:N?"#FF6F00":"#2196F3",color:"white",padding:"15px 40px",fontSize:"20px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"}},[N?"Back to Business!":"Continue"])]),s("div",{style:"margin-top: 40px; font-size: 14px; color: #666;"},[f("Page "),r.value+1,f(" of "),a.length])])},complete:t,playerChoice:i,currentPage:r}}),Io="chapter2",So=Je(Io,function(){const n="Chapter 2: The Expansion",e="#FFA500",t=K(!1),i=A(0),r=[{title:"Tony's Countermove",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You've reached $1,000! Your pizza delivery business is thriving.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("But Tony isn't giving up. You notice his shop has a huge new banner:")]),s("p",{style:"font-size: 20px; margin-bottom: 20px; font-weight: bold; color: #d32f2f; text-align: center;"},[f(`"TONY'S SPEEDY PIZZA - NOW WITH PREMIUM TOPPINGS!"`)]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("He's expanding his menu to compete with you directly.")])])},{title:"Observation",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Over the next few days, you watch Tony's operation carefully.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("His drivers are working overtime, and his kitchen is bustling with activity. The competition is heating up.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Some of your regular customers mention trying Tony's new premium pizzas.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic;"},[f("You need to stay ahead of the game...")])])},{title:"A Lesson Learned",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("One evening, a health inspector shows up at Tony's shop.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Word spreads quickly - Tony was cutting corners on food safety to keep up with demand! He gets hit with a hefty fine.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("The next day, Tony appears at your door, looking defeated.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #d32f2f;"},[f(`"Alright, alright... maybe I was trying too hard to beat you. I'll do things properly from now on."`)])])},{title:"Mutual Respect",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You and Tony reach an understanding - competition is healthy, but not at the expense of quality and safety.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #2e7d32;"},[f('"May the best pizza win," Tony says with a genuine smile for the first time.')]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your business continues to grow stronger, and you've earned Tony's respect.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-weight: bold;"},[f("But the pizza delivery market is getting crowded...")])])}];function a(){t.value=!0,E.tabs=["main"]}function d(){i.value++,i.value>=r.length&&a()}return{name:n,color:e,display:()=>{const l=r[i.value];if(!l)return a(),null;const m=i.value===r.length-1;return s("div",null,[s("h2",{style:"color: #FFA500; font-size: 32px; margin-bottom: 30px;"},[l.title]),s("div",{style:"margin: 20px 0; padding: 30px; border: 2px solid #FFA500; border-radius: 10px; background: #fff3e0;"},[l.content]),s("div",{style:"margin: 30px 0; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"},[s("button",{onClick:d,style:{background:m?"#FF6F00":"#2196F3",color:"white",padding:"15px 40px",fontSize:"20px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"}},[m?"Back to Business!":"Continue"])]),s("div",{style:"margin-top: 40px; font-size: 14px; color: #666;"},[f("Page "),i.value+1,f(" of "),r.length])])},complete:t,currentPage:i}}),ko="chapter3",To=Je(ko,function(){const n="Chapter 3: The Chain",e="#FFA500",t=K(!1),i=A(0),r=[{title:"A New Threat",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("$2,000! Your business is booming, and you're becoming well-known in the area.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("But one morning, you see construction crews working on the empty lot down the street.")]),s("p",{style:"font-size: 20px; margin-bottom: 20px; font-weight: bold; color: #d32f2f; text-align: center;"},[f('"COMING SOON: MEGA PIZZA CHAIN"')]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("A massive corporate chain is moving into your neighborhood.")])])},{title:"Tony's Warning",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Tony rushes into your shop, looking worried.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #d32f2f;"},[f(`"They'll undercut both of us! They've got massive budgets, loyalty programs, apps... We're both in trouble."`)]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("For the first time, Tony isn't your competitor - he's your ally.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("You both realize that local businesses need to stick together against giant corporations.")])])},{title:"The Local Alliance",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f('You and Tony organize a "Support Local Pizza" campaign.')]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("The neighborhood rallies behind you both. Customers appreciate the personal service and quality that only local businesses can provide.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Together, you and Tony prove that community matters more than corporate efficiency.")])])},{title:"Surviving Together",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("The mega chain opens, but your loyal customer base stays strong.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #2e7d32;"},[f(`Tony grins at you: "Who would've thought? We make a pretty good team!"`)]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your business not only survives - it thrives by being genuine and local.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-weight: bold;"},[f("But success brings new challenges...")])])}];function a(){t.value=!0,E.tabs=["main"]}function d(){i.value++,i.value>=r.length&&a()}return{name:n,color:e,display:()=>{const l=r[i.value];if(!l)return a(),null;const m=i.value===r.length-1;return s("div",null,[s("h2",{style:"color: #FFA500; font-size: 32px; margin-bottom: 30px;"},[l.title]),s("div",{style:"margin: 20px 0; padding: 30px; border: 2px solid #FFA500; border-radius: 10px; background: #fff3e0;"},[l.content]),s("div",{style:"margin: 30px 0; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"},[s("button",{onClick:d,style:{background:m?"#FF6F00":"#2196F3",color:"white",padding:"15px 40px",fontSize:"20px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"}},[m?"Back to Business!":"Continue"])]),s("div",{style:"margin-top: 40px; font-size: 14px; color: #666;"},[f("Page "),i.value+1,f(" of "),r.length])])},complete:t,currentPage:i}}),Mo="chapter4",Po=Je(Mo,function(){const n="Chapter 4: The Legacy",e="#FFA500",t=K(!1),i=A(0),r=[{title:"Media Attention",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("$3,000 in the bank! You're now one of the most successful local businesses in the area.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("A local news reporter shows up at your door with a camera crew.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic;"},[f(`"We're doing a story on local business success! How did you and Tony turn rivalry into partnership?"`)]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Your story is about to inspire others...")])])},{title:"Inspiring Others",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("The news segment airs, and suddenly you're getting calls from small business owners all over the city.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("They want advice on how to compete with big chains while maintaining their values.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f('You and Tony decide to host a workshop: "Building Community Through Competition."')])])},{title:"The Workshop",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Dozens of local business owners attend your workshop.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #d32f2f;"},[f('Tony tells them: "Competition made us better. But community made us unstoppable."')]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #2e7d32;"},[f('You add: "Focus on quality, treat your people right, and stay true to your values. The rest will follow."')]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("The local business alliance grows stronger every day.")])])},{title:"A Lasting Partnership",content:s("div",{style:"text-align: left; max-width: 600px; margin: 40px auto; line-height: 1.6;"},[s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("Months later, you and Tony are sitting together, looking at your thriving shops.")]),s("p",{style:"font-size: 18px; margin-bottom: 20px; font-style: italic; color: #d32f2f;"},[f('"Remember when I called you lucky?" Tony laughs. "Turns out we both made our own luck."')]),s("p",{style:"font-size: 18px; margin-bottom: 20px;"},[f("What started as a fierce rivalry became a partnership that lifted up the entire community.")]),s("p",{style:"font-size: 20px; margin-bottom: 20px; font-weight: bold; color: #2e7d32; text-align: center;"},[f("You've built more than a business - you've built a legacy.")])])}];function a(){t.value=!0,E.tabs=["main"]}function d(){i.value++,i.value>=r.length&&a()}return{name:n,color:e,display:()=>{const l=r[i.value];if(!l)return a(),null;const m=i.value===r.length-1;return s("div",null,[s("h2",{style:"color: #FFA500; font-size: 32px; margin-bottom: 30px;"},[l.title]),s("div",{style:"margin: 20px 0; padding: 30px; border: 2px solid #FFA500; border-radius: 10px; background: #fff3e0;"},[l.content]),s("div",{style:"margin: 30px 0; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;"},[s("button",{onClick:d,style:{background:m?"#FF6F00":"#2196F3",color:"white",padding:"15px 40px",fontSize:"20px",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"}},[m?"Back to Business!":"Continue"])]),s("div",{style:"margin-top: 40px; font-size: 14px; color: #666;"},[f("Page "),i.value+1,f(" of "),r.length])])},complete:t,currentPage:i}}),zo=n=>[wo,yo,Co,So,To,Po],Xe=R(()=>!1);function Se(n={}){return Object.assign({id:`${G.id}-0`,name:"Default Save",tabs:G.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:G.id,modVersion:G.versionNumber,layers:{}},n)}function le(n){const e=Fe.compressToUTF16(We(n??E));return localStorage.setItem((n??E).id,e),e}async function Eo(){$o();try{let n=localStorage.getItem(j.active);if(n==null){await ke(Ge());return}if(n=Ee(n),n==null)throw"Unable to determine save encoding";const e=JSON.parse(n);if(e.modID!==G.id){await ke(Ge());return}e.id=j.active,await ke(e)}catch(n){console.error(`Failed to load save. Falling back to new save.
`,n),await ke(Ge())}}function Ee(n){if(n[0]!=="{")if(n[0]==="e")n=decodeURIComponent(escape(atob(n)));else if(n[0]==="ᯡ")n=Fe.decompressFromUTF16(n);else return console.warn("Unable to determine preset encoding",n),null;return n}function Ge(){const n=Qe(),e=Se({id:n});return le(e),j.saves.push(n),e}function Qe(){let n,e=0;do n=`${G.id}-${e++}`;while(localStorage.getItem(n)!=null);return n}const pt=A(!1);async function ke(n){console.info("Loading save",n),pt.value=!0;for(const e in Q){const t=Q[e];t!=null&&Ba(t)}zo().forEach(e=>La(e,n)),n=Se(n),n.offlineProd&&n.time!=null&&n.time&&n.devSpeed!==0&&(n.offlineTime==null&&(n.offlineTime=0),n.offlineTime+=Math.min(n.offlineTime+(Date.now()-n.time)/1e3,G.offlineLimit*3600)),n.time=Date.now(),n.modVersion!==G.versionNumber&&(n.modVersion,n.modVersion=G.versionNumber),Object.assign(E,n),j.active=E.id,me.emit("onLoad")}const ye=kt({});function Fo(n){if(ye[n]==null){let e=localStorage.getItem(n);if(e==null)ye[n]={error:"Save doesn't exist in localStorage",id:n};else if(e==="dW5kZWZpbmVk")ye[n]={error:"Save is undefined",id:n};else try{if(e=Ee(e),e==null)return console.warn("Unable to determine preset encoding",e),ye[n]={error:"Unable to determine preset encoding",id:n},ye[n];ye[n]={...JSON.parse(e),id:n}}catch(t){ye[n]={error:t,id:n},console.warn(`Failed to load info about save with id ${n}:
${t}
${e}`)}}return ye[n]}function Ao(){Object.keys(ye).forEach(n=>delete ye[n])}function lt(n){ye[n]=void 0}setInterval(()=>{E.autosave&&le()},1e3);window.onbeforeunload=()=>{E.autosave&&le()};window.save=le;const Oo=window.hardReset=async()=>{await ke(Ge())};window.deleteLowerSaves=()=>{const n=Object.values(j.saves).indexOf(E.id)+1;Object.values(j.saves).slice(n).forEach(e=>localStorage.removeItem(e)),j.saves=j.saves.slice(0,n)};const it=He({active:"",saves:[],showTPS:!1,theme:Mt.Nordic,unthrottled:!1,alignUnits:!1,showHealthWarning:!0});ie(it,n=>{const e=Fe.compressToUTF16(JSON.stringify(n));localStorage.setItem(G.id,e)},{deep:!0});const j=window.settings=it;window.hardResetSettings=()=>{const n={active:"",saves:[],showTPS:!1,theme:Mt.Nordic,unthrottled:!1,alignUnits:!1,showHealthWarning:!0};me.emit("loadSettings",n),Object.assign(it,n),Oo()};function $o(){try{let n=localStorage.getItem(G.id);if(n!=null&&n!==""){if(n=Ee(n),n==null){console.warn("Unable to determine settings encoding",n);return}const e=JSON.parse(n);typeof e=="object"&&Object.assign(it,e)}me.emit("loadSettings",it)}catch{}}He([]);He([]);const _o=He([]),ve=A(),Ne=A([]),at=A([]);function Ro(){var n;((n=ve.value)==null?void 0:n.loggedIn)===!0&&(Ne.value.length>0||ve.value.getSaveList().then(vn).then(e=>{at.value=e.map(t=>t.content.id)}).catch(console.error))}Bn({supportsSaving:!0,supportsSaveManager:!0,onLoggedInChanged:Jt}).then(n=>{ve.value=n,Jt(n)}).catch(console.error);function Jt(n){n.loggedIn===!0&&(Ne.value.length>0||(n.getSaveList().then(e=>{const t=vn(e);if(at.value=t.map(i=>i.content.id),E.timePlayed<120*1e3&&t.length>0){const i=t.reduce((r,a)=>r.content.time<a.content.time?a:r);ke(i.content)}}).catch(console.error),setInterval(Ro,60*1e3)))}function vn(n){const e=new Set(j.saves.slice()),t=new Set(new Array(11).fill(0).map((r,a)=>a)),i=Object.keys(n).map(r=>{const{label:a,content:d}=n[parseInt(r)];try{return{slot:parseInt(r),label:a,content:JSON.parse(Ee(d)??"")}}catch{return null}}).filter(r=>r!=null&&typeof r.content.id=="string"&&typeof r.content.time=="number"&&typeof r.content.timePlayed=="number").filter(r=>{var d;r.label!=null&&(r.content.name=r.label),t.delete(r.slot);const a=j.saves.find(u=>u===r.content.id);if(a==null)j.saves.push(r.content.id),le(Se(r.content));else{e.delete(a);try{const u=JSON.parse(Ee(localStorage.getItem(a)??"")??"");if(u==null)return!1;u.id=a,u.time=u.time??0,u.timePlayed=u.timePlayed??0;const l=Math.abs(u.timePlayed-r.content.timePlayed),m=Math.abs(u.time-r.content.time);l<120*1e3&&m<120*1e3?u.time<r.content.time?(le(Se(r.content)),j.active===a&&ke(r.content)):((d=ve.value)==null||d.save(r.slot,Fe.compressToUTF16(We(Se(u))),u.name??r.label).catch(console.error),r.content=u):Ne.value.push({id:a,cloud:r.content,local:u,slot:r.slot})}catch{return!1}}return!0});return e.forEach(r=>{var a;try{if(t.size>0){const d=localStorage.getItem(r)??"",u=JSON.parse(Ee(d)??""),l=t.values().next().value;if(l==null)return;(a=ve.value)==null||a.save(l,d,u.name).then(()=>at.value.push(u.id)).catch(console.error),t.delete(l)}}catch{}}),i}const Vo={class:"field"},Do={key:0,class:"field-title"},Lo=X({__name:"Select",props:{title:{},modelValue:{},options:{},placeholder:{},closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:e}){const t=n,i=e,r=()=>t.title?de(t.title,u=>s("span",null,[u])):s(re,null,null),a=A(t.options.find(u=>u.value===t.modelValue)??null);ie(Le(t,"modelValue"),u=>{h(a)!==u&&(a.value=t.options.find(l=>l.value===u)??null)});function d(u){i("update:modelValue",u.value)}return(u,l)=>(C(),k("div",Vo,[u.title?(C(),k("span",Do,[s(r)])):D("",!0),s(h(qn),{options:u.options,modelValue:a.value,"onUpdate:modelValue":[l[0]||(l[0]=m=>a.value=m),d],min:1,placeholder:u.placeholder,"close-on-select":u.closeOnSelect,"label-by":"label"},null,8,["options","modelValue","placeholder","close-on-select"])]))}}),Bo={class:"field"},Uo={key:0,class:"field-title"},qo=["placeholder"],Go=X({__name:"Text",props:{title:{},modelValue:{},textArea:{type:Boolean},placeholder:{},maxHeight:{},submitOnBlur:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(n,{emit:e}){const t=n,i=e,r=()=>t.title==null?s(re,null,null):de(t.title,m=>s("span",null,[m])),a=Kt(null);St(()=>{var m;(m=a.value)==null||m.focus()});const d=R({get(){return h(t.modelValue)??""},set(m){i("update:modelValue",m)}});function u(){i("submit")}function l(){t.submitOnBlur!==!1?i("submit"):i("cancel")}return(m,b)=>(C(),k("form",{onSubmit:et(u,["prevent"])},[x("div",Bo,[m.title?(C(),k("span",Uo,[s(r)])):D("",!0),m.textArea?(C(),ae(h(Gn),{key:1,modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=w=>d.value=w),placeholder:m.placeholder,maxHeight:m.maxHeight,onBlur:l,ref_key:"field",ref:a},null,8,["modelValue","placeholder","maxHeight"])):Tt((C(),k("input",{key:2,type:"text","onUpdate:modelValue":b[1]||(b[1]=w=>d.value=w),placeholder:m.placeholder,class:se({fullWidth:!m.title}),onBlur:l,ref_key:"field",ref:a},null,42,qo)),[[_n,d.value]])])],32))}}),bn=ne(Go,[["__scopeId","data-v-495d5085"]]),Wo={key:0},Ho=["disabled"],Yo={key:0},Jo=X({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(n,{emit:e}){const t=n,i=e,r=A(!1);ie(r,u=>{i("confirmingChanged",u)});function a(){if(t.skipConfirm){i("click");return}r.value&&i("click"),r.value=!r.value}function d(){r.value=!1}return(u,l)=>(C(),k("span",{class:se(["container",{confirming:r.value}])},[r.value?(C(),k("span",Wo,"Are you sure?")):D("",!0),x("button",{onClick:et(a,["stop"]),class:"button danger",disabled:u.disabled},[r.value?(C(),k("span",Yo,"Yes")):De(u.$slots,"default",{key:1},void 0,!0)],8,Ho),r.value?(C(),k("button",{key:1,class:"button",onClick:et(d,["stop"])},"No")):D("",!0)],2))}}),jo=ne(Jo,[["__scopeId","data-v-b3b9693a"]]),Zo={key:0,class:"handle material-icons"},Ko={key:1,class:"actions"},Xo={key:2,class:"actions"},Qo={key:3,class:"details"},es=["disabled"],ts={class:"save-version"},ns={key:1,class:"time"},is={key:4,class:"details"},rs={key:5,class:"details error"},as=X({__name:"Save",props:{save:{},readonly:{type:Boolean}},emits:["export","open","duplicate","delete","editName"],setup(n,{emit:e}){const t=n,i=e,r=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),a=A(!1),d=A(!1),u=A("");ie(a,()=>u.value=t.save.name??"");const l=R(()=>t.save!=null&&t.save.id===E.id&&!t.readonly),m=R(()=>l.value?E.time:(t.save!=null&&t.save.time)??0),b=R(()=>{var N;return!t.readonly&&((N=ve.value)==null?void 0:N.loggedIn)===!0&&at.value.includes(t.save.id)});function w(){i("editName",u.value),a.value=!1}return(N,p)=>(C(),k("div",{class:se(["save",{active:l.value,readonly:N.readonly}])},[N.readonly!==!0?(C(),k("div",Zo,"drag_handle")):D("",!0),!a.value&&N.readonly!==!0?(C(),k("div",Ko,[N.save.error==null&&!d.value?(C(),ae(ct,{key:0,onClick:p[0]||(p[0]=P=>i("export")),class:"button",left:""},{default:W(()=>[s(we,{display:"Export",direction:h(ce).Left,class:"info"},{default:W(()=>p[8]||(p[8]=[x("span",{class:"material-icons"},"content_paste",-1)])),_:1},8,["direction"])]),_:1})):D("",!0),N.save.error==null&&!d.value?(C(),k("button",{key:1,onClick:p[1]||(p[1]=P=>i("duplicate")),class:"button"},[s(we,{display:"Duplicate",direction:h(ce).Left,class:"info"},{default:W(()=>p[9]||(p[9]=[x("span",{class:"material-icons"},"content_copy",-1)])),_:1},8,["direction"])])):D("",!0),N.save.error==null&&!d.value?(C(),k("button",{key:2,onClick:p[2]||(p[2]=P=>a.value=!a.value),class:"button"},[s(we,{display:"Edit Name",direction:h(ce).Left,class:"info"},{default:W(()=>p[10]||(p[10]=[x("span",{class:"material-icons"},"edit",-1)])),_:1},8,["direction"])])):D("",!0),s(jo,{disabled:l.value,onClick:p[3]||(p[3]=P=>i("delete")),onConfirmingChanged:p[4]||(p[4]=P=>d.value=P)},{default:W(()=>[s(we,{display:"Delete",direction:h(ce).Left,class:"info"},{default:W(()=>p[11]||(p[11]=[x("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)])),_:1},8,["direction"])]),_:1},8,["disabled"])])):N.readonly!==!0?(C(),k("div",Xo,[x("button",{onClick:w,class:"button"},[s(we,{display:"Save",direction:h(ce).Left,class:"info"},{default:W(()=>p[12]||(p[12]=[x("span",{class:"material-icons"},"check",-1)])),_:1},8,["direction"])]),x("button",{onClick:p[5]||(p[5]=P=>a.value=!a.value),class:"button"},[s(we,{display:"Cancel",direction:h(ce).Left,class:"info"},{default:W(()=>p[13]||(p[13]=[x("span",{class:"material-icons"},"close",-1)])),_:1},8,["direction"])])])):D("",!0),N.save.error==null&&!a.value?(C(),k("div",Qo,[b.value?(C(),ae(we,{key:0,display:"Synced!",direction:h(ce).Right},{default:W(()=>p[14]||(p[14]=[x("span",{class:"material-icons synced"},"cloud",-1)])),_:1},8,["direction"])):D("",!0),x("button",{class:"button open",onClick:p[6]||(p[6]=P=>i("open")),disabled:N.readonly},[x("h3",null,J(N.save.name),1)],8,es),x("span",ts,"v"+J(N.save.modVersion),1),p[15]||(p[15]=x("br",null,null,-1)),m.value?(C(),k("div",ns," Last played "+J(h(r).format(m.value)),1)):D("",!0)])):N.save.error==null&&a.value?(C(),k("div",is,[s(bn,{modelValue:u.value,"onUpdate:modelValue":p[7]||(p[7]=P=>u.value=P),class:"editname",onSubmit:w},null,8,["modelValue"])])):(C(),k("div",rs,[f(" Error: Failed to load save with id "+J(N.save.id),1),p[16]||(p[16]=x("br",null,null,-1)),f(J(N.save.error),1)]))],2))}}),It=ne(as,[["__scopeId","data-v-0058f767"]]),os={key:0,style:{color:"var(--danger)"}},ss={class:"modal-footer"},ls={class:"field"},us={class:"field-buttons"},cs={class:"footer"},ds=X({__name:"SavesManager",setup(n,{expose:e}){const t=A(!1),i=A(null);e({open(){t.value=!0}});const r=A(!1),a=A(""),d=A(null);ie(a,T=>{T?tt(()=>{try{if(T=Ee(T)??"",T===""){console.warn("Unable to determine preset encoding",T),r.value=!0;return}const z=JSON.parse(T);if(typeof z!="object"){r.value=!0;return}const V=Qe();z.id=V,le(z),a.value="",r.value=!1,j.saves.push(V)}catch{r.value=!0}}):r.value=!1});let u=Object.assign({}),l=A(Object.keys(u).reduce((T,z)=>(T.push({label:z.split("/").slice(-1)[0].slice(0,-4),value:u[z]}),T),[]));ie(t,T=>{T&&Ao()});const m=R(()=>j.saves.reduce((T,z)=>(T[z]=Fo(z),T),{})),b=R(()=>{var T;return((T=ve.value)==null?void 0:T.loggedIn)===!0&&j.saves.length<at.value.length});function w(T){let z;switch(E.id===T?z=We(E):z=JSON.stringify(m.value[T]),G.exportEncoding){default:console.warn(`Unknown save encoding: ${G.exportEncoding}. Defaulting to lz`);case"lz":z=Fe.compressToUTF16(z);break;case"base64":z=btoa(unescape(encodeURIComponent(z)));break;case"plain":break}const V=document.createElement("textarea");V.value=z,document.body.appendChild(V),V.select(),V.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(V)}function N(T){E.id===T&&le();const z={...m.value[T],id:Qe()};le(z),j.saves.push(z.id)}function p(T){var z;((z=ve.value)==null?void 0:z.loggedIn)===!0&&ve.value.getSaveList().then(V=>{var O;const Z=Object.keys(V).find(oe=>{const ht=V[parseInt(oe)].content;try{if(JSON.parse(ht).id===T)return!0}catch{return!1}});Z!=null&&((O=ve.value)==null||O.save(parseInt(Z),"","").catch(console.error))}),j.saves=j.saves.filter(V=>V!==T),localStorage.removeItem(T),lt(T)}function P(T){m.value[E.id].time=E.time,le(),lt(E.id),ke(m.value[T]),lt(T)}function F(T){if(d.value=T,tt(()=>{d.value=null}),T=Ee(T)??"",T===""){console.warn("Unable to determine preset encoding",T);return}const z=JSON.parse(T);z.id=Qe(),le(z),j.saves.push(z.id),P(z.id)}function H(T,z){const V=m.value[T];V!=null&&(V.name=z,E.id===T?(E.name=z,le()):(le(V),lt(T)))}return(T,z)=>(C(),ae(Ye,{modelValue:t.value,"onUpdate:modelValue":z[4]||(z[4]=V=>t.value=V),ref_key:"modal",ref:i},{header:W(()=>z[5]||(z[5]=[x("h2",null,"Saves Manager",-1)])),body:W(({shown:V})=>[b.value?(C(),k("div",os," Not all saves are synced! You may need to delete stale saves. ")):D("",!0),V?(C(),ae(h(Un),{key:1,list:h(j).saves,handle:".handle",itemKey:Z=>Z},{item:W(({element:Z})=>[s(It,{save:m.value[Z],onOpen:O=>P(Z),onExport:O=>w(Z),onEditName:O=>H(Z,O),onDuplicate:O=>N(Z),onDelete:O=>p(Z)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):D("",!0)]),footer:W(()=>[x("div",ss,[s(bn,{modelValue:a.value,"onUpdate:modelValue":z[0]||(z[0]=V=>a.value=V),title:"Import Save",placeholder:"Paste your save here!",class:se({importingFailed:r.value})},null,8,["modelValue","class"]),x("div",ls,[z[6]||(z[6]=x("span",{class:"field-title"},"Create Save",-1)),x("div",us,[x("button",{class:"button",onClick:z[1]||(z[1]=V=>P(h(Ge)().id))},"New Game"),Object.keys(h(l)).length>0?(C(),ae(Lo,{key:0,options:h(l),modelValue:d.value,"onUpdate:modelValue":z[2]||(z[2]=V=>F(V)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):D("",!0)])]),x("div",cs,[z[7]||(z[7]=x("div",{style:{"flex-grow":"1"}},null,-1)),x("button",{class:"button modal-default-button",onClick:z[3]||(z[3]=V=>t.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}}),yn=ne(ds,[["__scopeId","data-v-99458d64"]]),ms={class:"vga-footer"},gs=X({__name:"AddictionWarning",setup(n){const e=A(!1);Rn(()=>{G.disableHealthWarning===!1&&j.showHealthWarning&&Y.mouseActivity.filter(i=>i).length>6&&(e.value=!0)});function t(){j.showHealthWarning=!1,e.value=!1}return(i,r)=>(C(),k(re,null,[s(Ye,rt({modelValue:e.value,"onUpdate:modelValue":r[1]||(r[1]=a=>e.value=a)},i.$attrs),{header:W(()=>r[2]||(r[2]=[x("div",{class:"vga-modal-header"},[x("h2",null,"Kindly consider taking a break.")],-1)])),body:W(()=>r[3]||(r[3]=[x("p",null," You've been actively enjoying this game for awhile recently - and it's great that you've been having a good time! That said, there are dangers to games like these that you should be aware of: ",-1),x("p",null," While incremental games can be fun and even healthy in certain contexts, they can exacerbate video game addiction even more than other genres. If you feel like playing incremental games is taking priority over other things in your life, or manipulating your sleep schedule, it may be prudent to seek help. ",-1),x("h4",null,"Resources:",-1),x("p",null,[x("span",null,[x("a",{style:{display:"inline"},href:"https://www.samhsa.gov/",target:"_blank"}," SAMHSA "),f(" ("),x("a",{style:{display:"inline"},href:"tel:1-800-662-4357"},"1-800-662-HELP"),f(") ")]),x("br"),x("a",{href:"https://www.reddit.com/r/StopGaming/"},"r/StopGaming")],-1)])),footer:W(()=>[x("div",ms,[x("button",{onClick:t,class:"button"},"Never show this again"),x("button",{onClick:r[0]||(r[0]=a=>e.value=!1),class:"button"},"Close")])]),_:1},16,["modelValue"]),s(yn,{ref:"savesManager"},null,512)],64))}}),fs=ne(gs,[["__scopeId","data-v-84eac81b"]]),ps={class:"cloud-saves-modal-header"},hs=["onClick"],vs={key:0,class:"note"},bs={key:1,class:"note"},ys=["onClick"],xs={key:0,class:"note"},ws={key:1,class:"note"},Ns=["onClick"],Cs=X({__name:"CloudSaveResolver",setup(n){const e=A(!1),t=A([]),i=R(()=>Ne.value.length>1?"saves":"save"),r=A(null);ie(()=>Ne.value.length>0,m=>{m&&(t.value=Ne.value.map(({local:b,cloud:w})=>(b.time??0)<(w.time??0)?"cloud":"local"),e.value=!0)},{immediate:!0}),ie(()=>{var m;return(m=r.value)==null?void 0:m.isOpen},m=>{m===!1&&(Ne.value=[])});function a(m){t.value[m]="local"}function d(m){t.value[m]="cloud"}function u(m){t.value[m]="both"}function l(){var m,b;for(let w=0;w<t.value.length;w++){const{slot:N,local:p,cloud:P}=Ne.value[w];switch(t.value[w]){case"local":(m=ve.value)==null||m.save(N,Fe.compressToUTF16(We(Se(p))),P.name).catch(console.error);break;case"cloud":le(Se(P));break;case"both":const F=Qe();le({...Se(P),id:F}),j.saves.push(F),(b=ve.value)==null||b.save(N,Fe.compressToUTF16(We(Se(p))),P.name).catch(console.error);break}}e.value=!1}return(m,b)=>(C(),ae(Ye,{modelValue:e.value,"onUpdate:modelValue":b[0]||(b[0]=w=>e.value=w),width:"960px",ref_key:"modal",ref:r,"prevent-closing":!0},{header:W(()=>[x("div",ps,[x("h2",null,"Cloud "+J(i.value)+" loaded!",1)])]),body:W(()=>[x("div",null," Upon loading, your cloud "+J(i.value)+" "+J(h(Ne).length>1?"appear":"appears")+" to be out of sync with your local "+J(i.value)+". Which "+J(i.value)+" do you want to keep? ",1),b[4]||(b[4]=x("br",null,null,-1)),(C(!0),k(re,null,_e(h(h(Ne)),(w,N)=>(C(),k("div",{key:w.id,class:"conflict-container"},[x("div",{onClick:p=>d(N),class:se({selected:t.value[N]==="cloud"})},[x("h2",null,[b[1]||(b[1]=f(" Cloud ")),(w.cloud.time??0)>(w.local.time??0)?(C(),k("span",vs,"(more recent)")):D("",!0),(w.cloud.timePlayed??0)>(w.local.timePlayed??0)?(C(),k("span",bs,"(more playtime)")):D("",!0)]),s(It,{save:w.cloud,readonly:!0},null,8,["save"])],10,hs),x("div",{onClick:p=>a(N),class:se({selected:t.value[N]==="local"})},[x("h2",null,[b[2]||(b[2]=f(" Local ")),(w.cloud.time??0)<=(w.local.time??0)?(C(),k("span",xs,"(more recent)")):D("",!0),(w.cloud.timePlayed??0)<=(w.local.timePlayed??0)?(C(),k("span",ws,"(more playtime)")):D("",!0)]),s(It,{save:w.local,readonly:!0},null,8,["save"])],10,ys),x("div",{onClick:p=>u(N),class:se({selected:t.value[N]==="both"}),style:{"flex-basis":"30%"}},b[3]||(b[3]=[x("h2",null,"Both",-1),x("div",{class:"save"},"Keep Both",-1)]),10,Ns)]))),128))]),footer:W(()=>[x("div",{class:"cloud-saves-footer"},[x("button",{onClick:l,class:"button"},"Confirm")])]),_:1},8,["modelValue"]))}}),Is=ne(Cs,[["__scopeId","data-v-c79a1b2e"]]),Ss={class:"game-over-modal-header"},ks=["src","alt"],Ts={class:"game-over-modal-title"},Ms={key:0},Ps={key:0},zs=["href"],Es={key:1},Fs=X({__name:"GameOverScreen",setup(n){const{title:e,logo:t,discordName:i,discordLink:r,versionNumber:a,versionTitle:d}=G,u=R(()=>cn(E.timePlayed)),l=R(()=>Xe.value&&!E.keepGoing),m=Le(E,"autosave");function b(){E.keepGoing=!0}function w(){ke(Ge())}return(N,p)=>(C(),ae(Ye,{"model-value":l.value},{header:W(()=>[x("div",Ss,[h(t)?(C(),k("img",{key:0,class:"game-over-modal-logo",src:h(t),alt:h(e)},null,8,ks)):D("",!0),x("div",Ts,[p[1]||(p[1]=x("h2",null,"Congratulations!",-1)),x("h4",null,"You've beaten "+J(h(e))+" v"+J(h(a))+": "+J(h(d)),1)])])]),body:W(({shown:P})=>[P?(C(),k("div",Ms,[x("div",null,"It took you "+J(u.value)+" to beat the game.",1),p[4]||(p[4]=x("br",null,null,-1)),p[5]||(p[5]=x("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),p[6]||(p[6]=x("br",null,null,-1)),h(r)&&h(i)?(C(),k("div",Ps,[x("a",{href:h(r),class:"game-over-modal-discord-link"},[p[2]||(p[2]=x("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),f(" "+J(h(i)),1)],8,zs)])):(C(),k("div",Es,p[3]||(p[3]=[x("a",{href:"https://discord.gg/yJ4fjnjU54",class:"game-over-modal-discord-link"},[x("span",{class:"material-icons game-over-modal-discord"},"discord"),f(" Profectus & Friends ")],-1)]))),s(Me,{title:"Autosave",modelValue:m.value,"onUpdate:modelValue":p[0]||(p[0]=F=>m.value=F)},null,8,["modelValue"])])):D("",!0)]),footer:W(()=>[x("div",{class:"game-over-footer"},[x("button",{onClick:b,class:"button"},"Keep Going"),x("button",{onClick:w,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}}),As=ne(Fs,[["__scopeId","data-v-c9c5bad4"]]),Os={key:0},$s=["href"],_s={class:"nan-footer"},Rs=X({__name:"NaNScreen",setup(n){const{discordName:e,discordLink:t}=G,i=A(!0),r=A(!0),a=Le(Y,"hasNaN"),d=A(null);ie(a,N=>{N?(i.value=E.autosave,r.value=E.devSpeed===0):(E.autosave=i.value,E.devSpeed=r.value?0:null)});const u=R(()=>{var N;return(N=Y.NaNPath)==null?void 0:N.join(".")}),l=R(()=>Y.NaNPersistent!=null?Y.NaNPersistent.value:null);function m(){Y.NaNPersistent!=null&&(Y.NaNPersistent.value=new c(0),Y.hasNaN=!1)}function b(){Y.NaNPersistent&&(Y.NaNPersistent.value=new c(1),Y.hasNaN=!1)}function w(){Y.NaNPersistent&&(Y.NaNPersistent.value=new c(NaN),Y.hasNaN=!1)}return(N,p)=>(C(),k(re,null,[s(Ye,rt({modelValue:a.value,"onUpdate:modelValue":p[4]||(p[4]=P=>a.value=P)},N.$attrs),{header:W(()=>p[5]||(p[5]=[x("div",{class:"nan-modal-header"},[x("h2",null,"NaN value detected!")],-1)])),body:W(()=>[x("div",null,[f(' Attempted to assign "'+J(u.value)+'" to NaN',1),l.value?(C(),k("span",Os,J(" ")+"(previously "+J(h(Ce)(l.value))+")",1)):D("",!0),f(". Auto-saving has been "+J(i.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),p[7]||(p[7]=x("br",null,null,-1)),x("div",null,[x("a",{href:h(t)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[p[6]||(p[6]=x("span",{class:"material-icons nan-modal-discord"},"discord",-1)),f(" "+J(h(e)||"Profectus & Friends"),1)],8,$s)]),p[8]||(p[8]=x("br",null,null,-1)),s(Me,{title:"Autosave",modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=P=>i.value=P)},null,8,["modelValue"]),h(G).enablePausing?(C(),ae(Me,{key:0,title:"Pause game",modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=P=>r.value=P)},null,8,["modelValue"])):D("",!0)]),footer:W(()=>[x("div",_s,[x("button",{onClick:p[2]||(p[2]=P=>{var F;return(F=d.value)==null?void 0:F.open()}),class:"button"},"Open Saves Manager"),x("button",{onClick:m,class:"button"},"Set to 0"),x("button",{onClick:b,class:"button"},"Set to 1"),l.value&&h(c).neq(l.value,0)&&h(c).neq(l.value,1)?(C(),k("button",{key:0,onClick:p[3]||(p[3]=P=>a.value=!1),class:"button"}," Set to previous ")):D("",!0),x("button",{onClick:w,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),s(yn,{ref_key:"savesManager",ref:d},null,512)],64))}}),Vs=ne(Rs,[["__scopeId","data-v-cab8d401"]]),Ds={key:1},Ls=X({__name:"Layer",props:{display:{},minimizedDisplay:{},minimized:{},name:{},color:{},minimizable:{},nodes:{},forceHideGoBack:{},index:{}},setup(n){const e=n,t=()=>de(e.display),i=()=>e.minimizedDisplay==null?void 0:de(e.minimizedDisplay),r=R(()=>G.allowGoBack&&!h(e.forceHideGoBack)&&e.index>0&&!h(e.minimized));function a(){E.tabs.splice(h(e.index),1/0)}function d(l){e.nodes.value=l}const u=A([]);return Vn((l,m,b)=>(console.warn(`Error caught in "${e.name}" layer`,l,m,b),u.value.push(l instanceof Error?l:new Error(JSON.stringify(l))),!1)),(l,m)=>u.value.length>0?(C(),ae(en,{key:0,errors:u.value},null,8,["errors"])):(C(),k("div",rt({key:1,class:"layer-container",style:{"--layer-color":h(l.color)}},l.$attrs),[r.value?(C(),k("button",{key:0,class:"goBack",onClick:a},"❌")):D("",!0),h(l.minimized)?(C(),k("button",{key:1,class:"layer-tab minimized",onClick:m[0]||(m[0]=b=>l.$emit("setMinimized",!1))},[l.minimizedDisplay?(C(),ae(i,{key:0})):(C(),k("div",Ds,J(h(l.name)),1))])):(C(),k("div",{key:2,class:se(["layer-tab",{showGoBack:r.value}])},[s(tn,{onUpdateNodes:d},{default:W(()=>[s(t)]),_:1})],2)),h(l.minimizable)?(C(),k("button",{key:3,class:"minimize",onClick:m[1]||(m[1]=b=>l.$emit("setMinimized",!0))}," ▼ ")):D("",!0)],16))}}),Bs=ne(Ls,[["__scopeId","data-v-afadeceb"]]),Us={class:"inner-tab"},qs=X({__name:"Game",setup(n){const e=Le(E,"tabs"),t=R(()=>Object.keys(Q)),i=G.useHeader;function r(a){const{display:d,name:u,color:l,minimizable:m,minimizedDisplay:b,minimized:w,nodes:N,forceHideGoBack:p}=a;return{display:d,name:u,color:l,minimizable:m,minimizedDisplay:b,minimized:w,nodes:N,forceHideGoBack:p}}return(a,d)=>(C(),k("div",{class:se(["tabs-container",{useHeader:h(i)}])},[(C(!0),k(re,null,_e(e.value,(u,l)=>{var m,b;return C(),k("div",{key:l,class:se(["tab",h((m=h(Q)[u])==null?void 0:m.classes)]),style:ze(h((b=h(Q)[u])==null?void 0:b.style))},[x("div",Us,[t.value.includes(u)?(C(),ae(Bs,rt({key:0,ref_for:!0},r(h(Q)[u]),{index:l,onSetMinimized:w=>h(Q)[u].minimized.value=w}),null,16,["index","onSetMinimized"])):(C(),ae(Dn(u),{key:1,index:l},null,8,["index"]))])],6)}),128))],2))}}),Gs=ne(qs,[["__scopeId","data-v-59247f64"]]),Ws={key:0,class:"tpsDisplay"},Hs=X({__name:"TPS",setup(n){const e=R(()=>c.div(Y.lastTenTicks.length,Y.lastTenTicks.reduce((t,i)=>t+i,0)));return(t,i)=>e.value.isNan()?D("",!0):(C(),k("div",Ws,"TPS: "+J(h(un)(e.value)),1))}}),Ys=ne(Hs,[["__scopeId","data-v-7df31503"]]),Js=X({__name:"App",setup(n){const e=G.useHeader,t=R(()=>Pt[j.theme].variables),i=Le(j,"showTPS"),r=Le(Y,"errors"),a=()=>_o.map(d=>de(d));return(d,u)=>r.value.length>0?(C(),k("div",{key:0,class:"error-container",style:ze(t.value)},[s(en,{errors:r.value},null,8,["errors"])],4)):(C(),k(re,{key:1},[x("div",{id:"modal-root",style:ze(t.value)},null,4),x("div",{class:se(["app",{useHeader:h(e)}]),style:ze(t.value)},[s(Gs),h(i.value)?(C(),ae(Ys,{key:0})):D("",!0),s(fs),s(As),s(Vs),s(Is),s(a)],6)],64))}}),js=ne(Js,[["__scopeId","data-v-a0aca22c"]]);me.on("setupVue",n=>n.use(Wn));const Zs="modulepreload",Ks=function(n,e){return new URL(n,e).href},jt={},Xs=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const d=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),l=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.allSettled(t.map(m=>{if(m=Ks(m,i),m in jt)return;jt[m]=!0;const b=m.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(!!i)for(let P=d.length-1;P>=0;P--){const F=d[P];if(F.href===m&&(!b||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${w}`))return;const p=document.createElement("link");if(p.rel=b?"stylesheet":Zs,b||(p.as="script"),p.crossOrigin="",p.href=m,l&&p.setAttribute("nonce",l),document.head.appendChild(p),b)return new Promise((P,F)=>{p.addEventListener("load",P),p.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return r.then(d=>{for(const u of d||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function Qs(n={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:i,onRegistered:r,onRegisteredSW:a,onRegisterError:d}=n;let u,l;const m=async(w=!0)=>{await l};async function b(){if("serviceWorker"in navigator){if(u=await Xs(async()=>{const{Workbox:w}=await import("./workbox-window-D5gOYdM7.js");return{Workbox:w}},[],import.meta.url).then(({Workbox:w})=>new w("./sw.js",{scope:"./",type:"classic"})).catch(w=>{d==null||d(w)}),!u)return;u.addEventListener("activated",w=>{(w.isUpdate||w.isExternal)&&window.location.reload()}),u.addEventListener("installed",w=>{w.isUpdate||i==null||i()}),u.register({immediate:e}).then(w=>{a?a("./sw.js",w):r==null||r(w)}).catch(w=>{d==null||d(w)})}}return l=b(),m}function el(n={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:i,onRegistered:r,onRegisteredSW:a,onRegisterError:d}=n,u=A(!1),l=A(!1);return{updateServiceWorker:Qs({immediate:e,onNeedRefresh(){u.value=!0,t==null||t()},onOfflineReady(){l.value=!0,i==null||i()},onRegistered:r,onRegisteredSW:a,onRegisterError:d}),offlineReady:l,needRefresh:u}}let Ue=null;function ft(){const n=Date.now();let e=(n-E.time)/1e3;E.time=n;const t=e;if(Y.lastTenTicks.push(t),Y.lastTenTicks.length>10&&(Y.lastTenTicks=Y.lastTenTicks.slice(1)),!(Xe!=null&&Xe.value&&!E.keepGoing)&&!Y.hasNaN&&(e=Math.max(e,0),E.devSpeed!==0)){if(pt.value=!1,E.offlineTime!=null){if(c.gt(E.offlineTime,G.offlineLimit*3600)&&(E.offlineTime=G.offlineLimit*3600),c.gt(E.offlineTime,0)&&E.devSpeed!==0){const i=Math.max(E.offlineTime/10,e);E.offlineTime=E.offlineTime-i,e+=i}else E.devSpeed===0&&(E.offlineTime+=e);(!E.offlineProd||c.lt(E.offlineTime,0))&&(E.offlineTime=null)}e=Math.min(e,G.maxTickLength),E.devSpeed!=null&&(e*=E.devSpeed),Number.isFinite(e)||(e=1e308),!c.eq(e,0)&&(E.timePlayed+=e,Number.isFinite(E.timePlayed)||(E.timePlayed=1e308),me.emit("update",e,t),j.unthrottled?(requestAnimationFrame(ft),Ue!=null&&(clearInterval(Ue),Ue=null)):Ue==null&&(Ue=setInterval(ft,50)))}}async function tl(){j.unthrottled?requestAnimationFrame(ft):Ue=setInterval(ft,50)}ie(Xe,n=>{n&&me.emit("gameWon")});setInterval(()=>{Y.mouseActivity=[...Y.mouseActivity.slice(-7),!1]},1e3*60*60);const Et=console.error;console.error=function(...n){Et(...n)};window.onerror=function(n,e,t,i,r){return Y.errors.push(r instanceof Error?r:new Error(JSON.stringify(r))),Et(r),!0};window.onunhandledrejection=function(n){Y.errors.push(n.reason instanceof Error?n.reason:new Error(JSON.stringify(n.reason))),Et(n.reason)};document.title=G.title;window.projInfo=G;G.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await Eo();const n=window.vue=Ln(js);n.config.errorHandler=function(e,t,i){console.error(e,i,t)},me.emit("setupVue",n),n.mount("#app"),tt(()=>{const e=Hn();el({immediate:!0,onOfflineReady(){e.info("App ready to work offline")},onRegisterError:console.warn,onRegistered:console.info})}),tl()});
